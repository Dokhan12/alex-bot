wpJsonpLex([1],{"+QAq":function(e,t){e.exports={cognito:{poolId:"us-east-1:aa8c83df-49e8-4a53-adea-c0a90d762a83",appUserPoolClientId:"727umf381vhdhorp3qh0dvi72f",appUserPoolName:"us-east-1_tz8P8iZcb",appDomainName:"lexkwebkuikidentitypoolconfigkjazfpzssdfhe238359442180.auth.us-east-1.amazoncognito.com",appUserPoolIdentityProvider:""},lex:{botName:"QnABot_BotuU",initialText:"This is from AWS TEST CONFING",initialSpeechInstruction:"Say 'Order Flowers' to get started."},polly:{voiceId:"Salli"},ui:{parentOrigin:"",pageTitle:"AWS TEST",toolbarTitle:"AWS TEST BOT"},recorder:{preset:"speech_recognition"}}},0:function(e,t){},1:function(e,t){},"1qez":function(e,t,n){"use strict";var o=n("Gu7T"),i=n.n(o),s=n("Xxa5"),r=n.n(s),a=n("exGp"),c=n.n(a),u=n("//Fk"),d=n.n(u),l=n("woOf"),p=n.n(l),f=n("Zrlr"),m=n.n(f),h=n("wxAW"),g=n.n(h),b=n("8UG/"),v=n.n(b),y=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m()(this,e),this.initOptions(n),this._eventTarget=document.createDocumentFragment(),this._encoderWorker=new v.a,this._encoderWorker.addEventListener("message",function(e){return t._exportWav(e.data)})}return g()(e,[{key:"initOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.preset&&p()(e,this._getPresetOptions(e.preset)),this.mimeType=e.mimeType||"audio/wav",this.recordingTimeMax=e.recordingTimeMax||8,this.recordingTimeMin=e.recordingTimeMin||2,this.recordingTimeMinAutoIncrease=void 0===e.recordingTimeMinAutoIncrease||!!e.recordingTimeMinAutoIncrease,this.autoStopRecording=void 0!==e.autoStopRecording&&!!e.autoStopRecording,this.quietThreshold=e.quietThreshold||.001,this.quietTimeMin=e.quietTimeMin||.4,this.volumeThreshold=e.volumeThreshold||-75,this.useBandPass=void 0===e.useBandPass||!!e.useBandPass,this.bandPassFrequency=e.bandPassFrequency||4e3,this.bandPassQ=e.bandPassQ||.707,this.bufferLength=e.bufferLength||2048,this.numChannels=e.numChannels||1,this.requestEchoCancellation=void 0===e.requestEchoCancellation||!!e.requestEchoCancellation,this.useAutoMuteDetect=void 0===e.useAutoMuteDetect||!!e.useAutoMuteDetect,this.muteThreshold=e.muteThreshold||1e-7,this.encoderUseTrim=void 0===e.encoderUseTrim||!!e.encoderUseTrim,this.encoderQuietTrimThreshold=e.encoderQuietTrimThreshold||8e-4,this.encoderQuietTrimSlackBack=e.encoderQuietTrimSlackBack||4e3}},{key:"_getPresetOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"low_latency";return this._presets=["low_latency","speech_recognition"],-1===this._presets.indexOf(e)?(console.error("invalid preset"),{}):{low_latency:{encoderUseTrim:!0,useBandPass:!0},speech_recognition:{encoderUseTrim:!1,useBandPass:!1,useAutoMuteDetect:!1}}[e]}},{key:"init",value:function(){return this._state="inactive",this._instant=0,this._slow=0,this._clip=0,this._maxVolume=-1/0,this._isMicQuiet=!0,this._isMicMuted=!1,this._isSilentRecording=!0,this._alreadyAddedAudioEvents=!1,this._silentRecordingConsecutiveCount=0,d.a.resolve()}},{key:"start",value:function(){function e(){return t.apply(this,arguments)}var t=c()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){var e={sampleRate:16e3,bufferSize:8192,channels:1,format:audioinput.FORMAT.PCM_16BIT,audioSourceType:audioinput.AUDIOSOURCE_TYPE.DEFAULT,fileUrl:cordova.file.cacheDirectory+"temp.wav"};audioinput.start(e)},window.requestFileSystem(window.TEMPORARY,5242880,function(e){var n={sampleRate:16e3,bufferSize:8192,channels:1,format:audioinput.FORMAT.PCM_16BIT,audioSourceType:audioinput.AUDIOSOURCE_TYPE.DEFAULT,fileUrl:cordova.file.cacheDirectory};window.audioinput.initialize(n,function(){window.audioinput.checkMicrophonePermission(function(e){e?(console.info("Already have permission to record."),t()):window.audioinput.getMicrophonePermission(function(e,n){e?(console.info("User granted permission to record."),t()):console.warn("User denied permission to record.")})})})},function(e){console.warn("Couldn't access file system: "+e.message)}),this._state="recording";case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"stop",value:function(){function e(e){window.resolveLocalFileSystemURL(e.file,function(e){e.file(function(n){var o=new FileReader;o.onerror=function(e){console.warn("Open file error")},o.onloadend=function(n){var o=new Blob([new Uint8Array(this.result)],{type:"audio/wav"});t._exportWav({data:o}),e.remove(function(e){console.log("temporary WAV deleted")})},o.readAsArrayBuffer(n)})},function(e){console.warn("Could not resolveLocalFileSystemURL: "+e.message)})}if("recording"!==this._state)return void console.warn("recorder stop called out of state");var t=this,n=window.FileReader;window.FileReader=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return n.apply(this,t),this[Zone.__symbol__("originalInstance")]||this},window.attachedAudioEvents||(window.attachedAudioEvents=!0,window.addEventListener("audioinputfinished",e,!1)),audioinput.stop(),this._state="inactive",this._recordingStartTime=0,this._eventTarget.dispatchEvent(new Event("stop"))}},{key:"_exportWav",value:function(e){var t=new CustomEvent("dataavailable",{detail:e.data});this._eventTarget.dispatchEvent(t),this._encoderWorker.postMessage({command:"clear"})}},{key:"_recordBuffers",value:function(e){if("recording"!==this._state)return void console.warn("recorder _recordBuffers called out of state");for(var t=[],n=0;n<e.numberOfChannels;n++)t[n]=e.getChannelData(n);this._encoderWorker.postMessage({command:"record",buffer:t})}},{key:"_setIsMicMuted",value:function(){if(this.useAutoMuteDetect)return this._instant>=this.muteThreshold?void(this._isMicMuted&&(this._isMicMuted=!1,this._eventTarget.dispatchEvent(new Event("unmute")))):void(!this._isMicMuted&&this._slow<this.muteThreshold&&(this._isMicMuted=!0,this._eventTarget.dispatchEvent(new Event("mute")),console.info("mute - instant: %s - slow: %s - track muted: %s",this._instant,this._slow,this._tracks[0].muted),"recording"===this._state&&(this.stop(),console.info("stopped recording on _setIsMicMuted"))))}},{key:"_setIsMicQuiet",value:function(){var e=this._audioContext.currentTime,t=this._maxVolume<this.volumeThreshold||this._slow<this.quietThreshold;!this._isMicQuiet&&t&&(this._quietStartTime=this._audioContext.currentTime,this._eventTarget.dispatchEvent(new Event("quiet"))),this._isMicQuiet&&!t&&(this._quietStartTime=0,this._eventTarget.dispatchEvent(new Event("unquiet"))),this._isMicQuiet=t;var n=this.recordingTimeMinAutoIncrease?this.recordingTimeMin-1+Math.pow(this.recordingTimeMax,1-1/(this._silentRecordingConsecutiveCount+1)):this.recordingTimeMin;this.autoStopRecording&&this._isMicQuiet&&"recording"===this._state&&e-this._recordingStartTime>n&&e-this._quietStartTime>this.quietTimeMin&&this.stop()}},{key:"_initAudioContext",value:function(){var e=this;return window.AudioContext=window.AudioContext||window.webkitAudioContext,window.AudioContext?(this._audioContext=new AudioContext,document.addEventListener("visibilitychange",function(){console.info("visibility change triggered in recorder. hidden:",document.hidden),document.hidden?e._audioContext.suspend():e._audioContext.resume().then(function(){console.info("Playback resumed successfully from visibility change")})}),d.a.resolve()):d.a.reject(new Error("Web Audio API not supported."))}},{key:"_initMicVolumeProcessor",value:function(){var e=this,t=this._audioContext.createScriptProcessor(this.bufferLength,this.numChannels,this.numChannels);return t.onaudioprocess=function(t){"recording"===e._state&&(e._recordBuffers(t.inputBuffer),e._audioContext.currentTime-e._recordingStartTime>e.recordingTimeMax&&(console.warn("stopped recording due to maximum time"),e.stop()));for(var n=t.inputBuffer.getChannelData(0),o=0,s=0,r=0;r<n.length;++r)o+=n[r]*n[r],Math.abs(n[r])>.99&&(s+=1);e._instant=Math.sqrt(o/n.length),e._slow=.95*e._slow+.05*e._instant,e._clip=n.length?s/n.length:0,e._setIsMicMuted(),e._setIsMicQuiet(),e._analyser.getFloatFrequencyData(e._analyserData),e._maxVolume=Math.max.apply(Math,i()(e._analyserData))},this._micVolumeProcessor=t,d.a.resolve()}},{key:"_initStream",value:function(){var e=this,t={audio:!0};return navigator.mediaDevices.getUserMedia(t).then(function(t){e._stream=t,e._tracks=t.getAudioTracks(),console.info("using media stream track labeled: ",e._tracks[0].label),e._tracks[0].onmute=e._setIsMicMuted,e._tracks[0].onunmute=e._setIsMicMuted;var n=e._audioContext.createMediaStreamSource(t),o=e._audioContext.createGain(),i=e._audioContext.createAnalyser();if(e.useBandPass){var s=e._audioContext.createBiquadFilter();s.type="bandpass",s.frequency.value=e.bandPassFrequency,s.gain.Q=e.bandPassQ,n.connect(s),s.connect(o),i.smoothingTimeConstant=.5}else n.connect(o),i.smoothingTimeConstant=.9;i.fftSize=e.bufferLength,i.minDecibels=-90,i.maxDecibels=-30,o.connect(i),i.connect(e._micVolumeProcessor),e._analyserData=new Float32Array(i.frequencyBinCount),e._analyser=i,e._micVolumeProcessor.connect(e._audioContext.destination),e._eventTarget.dispatchEvent(new Event("streamReady"))}).fail(function(e){console.info("===> FAILLLLL"),console.info(e)})}},{key:"state",get:function(){return this._state}},{key:"stream",get:function(){return this._stream}},{key:"isMicQuiet",get:function(){return this._isMicQuiet}},{key:"isMicMuted",get:function(){return this._isMicMuted}},{key:"isSilentRecording",get:function(){return this._isSilentRecording}},{key:"isRecording",get:function(){return"recording"===this._state}},{key:"volume",get:function(){return{instant:this._instant,slow:this._slow,clip:this._clip,max:this._maxVolume}}},{key:"onstart",set:function(e){this._eventTarget.addEventListener("start",e)}},{key:"onstop",set:function(e){this._eventTarget.addEventListener("stop",e)}},{key:"ondataavailable",set:function(e){this._eventTarget.addEventListener("dataavailable",e)}},{key:"onerror",set:function(e){this._eventTarget.addEventListener("error",e)}},{key:"onstreamready",set:function(e){this._eventTarget.addEventListener("streamready",e)}},{key:"onmute",set:function(e){this._eventTarget.addEventListener("mute",e)}},{key:"onunmute",set:function(e){this._eventTarget.addEventListener("unmute",e)}},{key:"onsilentrecording",set:function(e){this._eventTarget.addEventListener("silentrecording",e)}},{key:"onunsilentrecording",set:function(e){this._eventTarget.addEventListener("unsilentrecording",e)}},{key:"onquiet",set:function(e){this._eventTarget.addEventListener("quiet",e)}},{key:"onunquiet",set:function(e){this._eventTarget.addEventListener("unquiet",e)}}]),e}();t.a=y},2:function(e,t){},"2bRa":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-flex",{staticClass:"message message-bot",attrs:{"d-flex":""}},[n("v-layout",{staticClass:"message-layout",attrs:{column:"","ma-2":""}},[n("v-flex",{staticClass:"message-bubble-date-container",attrs:{"d-flex":""}},[n("v-layout",{staticClass:"message-bubble-column",attrs:{column:""}},[n("v-flex",{staticClass:"message-bubble-avatar-container",attrs:{"d-flex":""}},[n("v-layout",{staticClass:"message-bubble-row",attrs:{row:""}},[n("div",{staticClass:"message-bubble focusable"},[e._v("\n              "+e._s(e.progress)+"\n            ")])])],1)],1)],1)],1)],1)},i=[],s={render:o,staticRenderFns:i};t.a=s},"2uFj":function(e,t,n){"use strict";function o(e,t){function n(e,t,n,i){return n in t?i&&"object"===a()(e[n])?u()({},o(t[n],e[n],i),o(e[n],t[n],i)):"object"===a()(e[n])?u()({},e[n],t[n]):t[n]:e[n]}var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s()(e).map(function(o){var s=n(e,t,o,i);return l()({},o,s)}).reduce(function(e,t){return u()({},e,t)},{})}t.b=o,n.d(t,"a",function(){return x});var i=n("fZjL"),s=n.n(i),r=n("pFYg"),a=n.n(r),c=n("Dd8w"),u=n.n(c),d=n("bOdI"),l=n.n(d),p=n("d7EF"),f=n.n(p),m=["dev","prod","test"].find(function(e){return"production".startsWith(e)});m||console.error("unknown environment in config: ","production");var h=n("pmM0")("./config."+m+".json"),g={region:"us-east-1",cognito:{poolId:""},lex:{botName:"WebUiOrderFlowers",botAlias:"$LATEST",initialText:'You can ask me for help ordering flowers. Just type "order flowers" or click on the mic and say it.',initialSpeechInstruction:'Say "Order Flowers" to get started',sessionAttributes:{},reInitSessionAttributesOnRestart:!1,enablePlaybackInterrupt:!1,playbackInterruptVolumeThreshold:-60,playbackInterruptLevelThreshold:.0075,playbackInterruptNoiseThreshold:-75,playbackInterruptMinDuration:2},polly:{voiceId:"Matthew"},ui:{pageTitle:"Alex",parentOrigin:null,textInputPlaceholder:"Type here or click on the mic",toolbarColor:"blue",toolbarTitle:"Alex",toolbarLogo:"",favIcon:"",pushInitialTextOnRestart:!1,reInitSessionAttributesOnRestart:!1,convertUrlToLinksInBotMessages:!0,stripTagsFromBotMessages:!0,showErrorDetails:!1,showMessageDate:!0,avatarImageUrl:"",showDialogStateIcon:!0,positiveFeedbackIntent:"",negativeFeedbackIntent:"",helpIntent:"",showErrorIcon:!0,AllowSuperDangerousHTMLInMessage:!0,shouldDisplayResponseCardTitle:!0,enableLogin:!1,directFocusToBotInput:!1},recorder:{enable:!0,recordingTimeMax:10,recordingTimeMin:2.5,quietThreshold:.002,quietTimeMin:.3,volumeThreshold:-65,useAutoMuteDetect:!1,useBandPass:!1,encoderUseTrim:!1},converser:{silentConsecutiveRecordingMax:3},urlQueryParams:{}},b=o(g,h),v=function(e){try{return e.split("?",2).slice(1,2).reduce(function(e,t){return t.split("&")},[]).map(function(e){return e.split("=")}).reduce(function(e,t){var n=f()(t,2),o=n[0],i=n[1],s=void 0===i||i,r=l()({},o,decodeURIComponent(s));return u()({},e,r)},{})}catch(e){return console.error("error obtaining URL query parameters",e),{}}}(window.location.href),y=function(e){try{return e.lexWebUiConfig?JSON.parse(e.lexWebUiConfig):{}}catch(e){return console.error("error parsing config from URL query",e),{}}}(v);y.ui&&y.ui.parentOrigin&&delete y.ui.parentOrigin;var A=o(b,y),x=u()({},A,{urlQueryParams:v})},3:function(e,t){},4:function(e,t){},"4B8H":function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="4B8H"},"4Vh3":function(e,t){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},"6K0a":function(e,t,n){"use strict";var o=n("fZjL"),i=n.n(o),s=n("//Fk"),r=n.n(s),a=n("omUY"),c=n("ib2o"),u=n("hKb1"),d=n("f3U8"),l=n.n(d),p=n("T4MM"),f=(n.n(p),n("abWm"));t.a={name:"lex-web",data:function(){return{userNameValue:""}},components:{ToolbarContainer:a.a,MessageList:c.a,InputContainer:u.a},computed:{initialSpeechInstruction:function(){return this.$store.state.config.lex.initialSpeechInstruction},textInputPlaceholder:function(){return this.$store.state.config.ui.textInputPlaceholder},toolbarColor:function(){return this.$store.state.config.ui.toolbarColor},toolbarTitle:function(){return this.$store.state.config.ui.toolbarTitle},toolbarLogo:function(){return this.$store.state.config.ui.toolbarLogo},isUiMinimized:function(){return this.$store.state.isUiMinimized},hasButtons:function(){return this.$store.state.hasButtons},lexState:function(){return this.$store.state.lex},isMobile:function(){return this.$vuetify.breakpoint.smAndDown&&"navigator"in window&&navigator.maxTouchPoints>0&&"screen"in window&&(window.screen.height<900||window.screen.width<900)}},watch:{lexState:function(){this.$emit("updateLexState",this.lexState),this.setFocusIfEnabled()}},created:function(){var e=this;this.isMobile||(document.documentElement.style.overflowY="hidden"),this.initConfig().then(function(){return r.a.all([e.$store.dispatch("initCredentials",e.$lexWebUi.awsConfig.credentials),e.$store.dispatch("initRecorder"),e.$store.dispatch("initBotAudio",window.Audio?new Audio:null)])}).then(function(){if(e.$store.state&&e.$store.state.config&&e.$store.state.config.region&&e.$store.state.config.cognito.poolId){var t=window.AWS&&window.AWS.Config?window.AWS.Config:p.Config,n=window.AWS&&window.AWS.CognitoIdentityCredentials?window.AWS.CognitoIdentityCredentials:p.CognitoIdentityCredentials,o=window.AWS&&window.AWS.LexRuntime?window.AWS.LexRuntime:l.a,i=new n({IdentityPoolId:e.$store.state.config.cognito.poolId},{region:e.$store.state.config.region}),s=new t({region:e.$store.state.config.region,credentials:i});e.$lexWebUi.lexRuntimeClient=new o(s)}r.a.all([e.$store.dispatch("initMessageList"),e.$store.dispatch("initPollyClient",e.$lexWebUi.pollyClient),e.$store.dispatch("initLexClient",e.$lexWebUi.lexRuntimeClient)])}).then(function(){return e.$store.state.isRunningEmbedded?e.$store.dispatch("sendMessageToParentWindow",{event:"ready"}):r.a.resolve()}).then(function(){return console.info("successfully initialized lex web ui version: ",e.$store.state.version)}).catch(function(e){console.error("could not initialize application while mounting:",e)})},mounted:function(){this.$store.state.isRunningEmbedded||(this.$store.dispatch("sendMessageToParentWindow",{event:"requestTokens"}),this.setFocusIfEnabled())},methods:{toggleMinimizeUi:function(){return this.$store.dispatch("toggleIsUiMinimized")},loginConfirmed:function(e){this.$store.commit("setIsLoggedIn",!0),e.detail&&e.detail.data?this.$store.commit("setTokens",e.detail.data):e.data&&e.data.data&&this.$store.commit("setTokens",e.data.data)},logoutConfirmed:function(){this.$store.commit("setIsLoggedIn",!1),this.$store.commit("setTokens",{idtokenjwt:"",accesstokenjwt:"",refreshtoken:""})},handleRequestLogin:function(){console.info("request login"),this.$store.state.isRunningEmbedded,this.$store.dispatch("sendMessageToParentWindow",{event:"requestLogin"})},handleRequestLogout:function(){console.info("request logout"),this.$store.state.isRunningEmbedded,this.$store.dispatch("sendMessageToParentWindow",{event:"requestLogout"})},messageHandler:function(e){if(e.origin!==this.$store.state.config.ui.parentOrigin)return void console.warn("ignoring event - invalid origin:",e.origin);if(!e.ports||!Array.isArray(e.ports)||!e.ports.length)return void console.warn("postMessage not sent over MessageChannel",e);switch(e.data.event){case"ping":console.info("pong - ping received from parent"),e.ports[0].postMessage({event:"resolve",type:e.data.event}),this.setFocusIfEnabled();break;case"parentReady":e.ports[0].postMessage({event:"resolve",type:e.data.event});break;case"toggleMinimizeUi":this.$store.dispatch("toggleIsUiMinimized").then(function(){return e.ports[0].postMessage({event:"resolve",type:e.data.event})});break;case"postText":if(!e.data.message)return void e.ports[0].postMessage({event:"reject",type:e.data.event,error:"missing message field"});this.$store.dispatch("postTextMessage",{type:"human",text:e.data.message}).then(function(){return e.ports[0].postMessage({event:"resolve",type:e.data.event})});break;case"confirmLogin":this.loginConfirmed(e),this.userNameValue=this.userName();break;case"confirmLogout":this.logoutConfirmed();break;default:console.warn("unknown message in messageHandler",e)}},componentMessageHandler:function(e){switch(e.detail.event){case"confirmLogin":this.loginConfirmed(e),this.userNameValue=this.userName();break;case"confirmLogout":this.logoutConfirmed();break;case"ping":this.$store.dispatch("sendMessageToParentWindow",{event:"pong"});break;case"postText":this.$store.dispatch("postTextMessage",{type:"human",text:e.detail.message});break;case"replaceCreds":this.$store.dispatch("initCredentials",e.detail.creds);break;default:console.warn("unknown message in componentMessageHandler",e)}},userName:function(){var e="";if(this.$store.state.tokens&&this.$store.state.tokens.idtokenjwt){var t=f.decode(this.$store.state.tokens.idtokenjwt,{complete:!0});return t&&t.payload&&(t.payload.email&&(e=t.payload.email),t.payload.preferred_username&&(e=t.payload.preferred_username)),"["+e+"]"}return e},logRunningMode:function(){if(!this.$store.state.isRunningEmbedded)return void console.info("running in standalone mode");console.info("running in embedded mode from URL: ",document.location.href),console.info("referrer (possible parent) URL: ",document.referrer),console.info("config parentOrigin:",this.$store.state.config.ui.parentOrigin),document.referrer.startsWith(this.$store.state.config.ui.parentOrigin)||console.warn("referrer origin: [%s] does not match configured parent origin: [%s]",document.referrer,this.$store.state.config.ui.parentOrigin)},initConfig:function(){var e=this;return"true"!==this.$store.state.config.urlQueryParams.lexWebUiEmbed?(document.addEventListener("lexwebuicomponent",this.componentMessageHandler,!1),this.$store.commit("setIsRunningEmbedded",!1),this.$store.commit("setAwsCredsProvider","cognito")):(window.addEventListener("message",this.messageHandler,!1),this.$store.commit("setIsRunningEmbedded",!0),this.$store.commit("setAwsCredsProvider","parentWindow")),this.$store.dispatch("initConfig",this.$lexWebUi.config).then(function(){return e.$store.dispatch("getConfigFromParent")}).then(function(t){return i()(t).length?e.$store.dispatch("initConfig",t):r.a.resolve()}).then(function(){e.setFocusIfEnabled(),e.logRunningMode()})},setFocusIfEnabled:function(){this.$store.state.config.ui.directFocusToBotInput&&this.$refs.InputContainer.setInputTextFieldFocus()}}}},"6ZSt":function(e,t){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},"7MJ+":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAAB4ElEQVRIDeXBz0uTcQDH8c8xLe2SpDVb9AMV7RZCUIdEodAZQrH/oCC65II6FAhu4Oi4sfoPjI6BwU4J/QGKEUQ/NLcYM29pkI/0vJvbHp7vnm19Z0GXXi/pX2GIae5xTn+HWVz2uMT155jANK79o4MeiXlMzySOcVitIkwWF/hIDlOeVcAlS1h2HGIVm08clA23acUt2ZDB5JAmwjgpHEwp2fAQn8OIqriMg+++bDjBNp60DKTxbHFcdozxlYqIDExQscGIWsEVNqmYlIEIFZuMyY4w3/FkZCCDZ5uQbHiEz2FUVYyyi++BbHiKyeEJk0TIsIspJRvu0IqbsqGDNWw+0C47wmRxgXesY1rnPeDykl41xyViROlTGZ0clXiOaV6im06V0U+UGBcVRIyKHHOEVEYE01WV0UuSPBV3FUQU3w5J2lTCLC57fjKjEtp5jIPvuoLoo9YKp1TCEDGmGVQJZ3hLrbOqR55aRQZkYJANaq2pEeYIytGlKrr5QlBCjRBih6AFVZEl6Ac9aowk9aZUwg3qxdUMbawQtKwS3hC0xAE1x2mKBA1zgaACJ/V7DJCjVoIktT7TLzu6WMC0yGtMLziiVjHFMp4CRTxLXNN+MUyCRQp8Y4sCr4hzXv+jX+Z26XqyE0SfAAAAAElFTkSuQmCC"},"7ZMd":function(e,t,n){"use strict";var o=n("yJ2L"),i=n("md3F");t.a={name:"message-list",components:{Message:o.a,MessageLoading:i.a},computed:{messages:function(){return this.$store.state.messages},loading:function(){return this.$store.state.lex.isProcessing}},watch:{messages:function(){var e=this,t=function(){e.scrollDown()};setTimeout(t,300)}},methods:{scrollDown:function(){var e=this;return this.$nextTick(function(){e.$el.scrollTop=e.$el.scrollHeight})}}}},"8UG/":function(e,t,n){e.exports=function(){return n("qDT4")('!function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="/",n(n.s="96L4")}({"+E39":function(t,n,e){t.exports=!e("S82l")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"+ZMJ":function(t,n,e){var r=e("lOnJ");t.exports=function(t,n,e){if(r(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,o){return t.call(n,e,r,o)}}return function(){return t.apply(n,arguments)}}},"1kS7":function(t,n){n.f=Object.getOwnPropertySymbols},"3Eo+":function(t,n){var e=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+r).toString(36))}},"52gC":function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can\'t call method on  "+t);return t}},"77Pl":function(t,n,e){var r=e("EqjI");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},"7KvD":function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},"96L4":function(t,n,e){"use strict";function r(t){m()(M,t),a()}function o(t){for(var n=0;n<M.numChannels;n++)O[n].push(t[n]);w+=t[0].length}function u(t){for(var n=[],e=0;e<M.numChannels;e++)n.push(f(O[e],w));var r=void 0;r=2===M.numChannels&&2===b?s(n[0],n[1]):n[0];var o=h(r,g),u=v(o),i=new Blob([u],{type:t});self.postMessage({command:"exportWAV",data:i})}function i(){for(var t=[],n=0;n<M.numChannels;n++)t.push(f(O[n],w));self.postMessage({command:"getBuffer",data:t})}function c(){w=0,O=[],a()}function a(){for(var t=0;t<M.numChannels;t++)O[t]=[]}function f(t,n){for(var e=new Float32Array(n),r=0,o=0;o<t.length;o++)e.set(t[o],r),r+=t[o].length;return e}function s(t,n){for(var e=t.length+n.length,r=new Float32Array(e),o=0,u=0;o<e;)r[o++]=t[u],r[o++]=n[u],u++;return r}function l(t,n,e){for(var r=0,o=n;r<e.length;r++,o+=2){var u=Math.max(-1,Math.min(1,e[r]));t.setInt16(o,u<0?32768*u:32767*u,!0)}}function p(t,n){t.setUint32(0,1380533830,!1),t.setUint32(4,36+n,!0),t.setUint32(8,1463899717,!1),t.setUint32(12,1718449184,!1),t.setUint32(16,16,!0),t.setUint16(20,1,!0),t.setUint16(22,b,!0),t.setUint32(24,g,!0),t.setUint32(28,g*x*b,!0),t.setUint16(32,x*b,!0),t.setUint16(34,d,!0),t.setUint32(36,1684108385,!1)}function v(t){var n=new ArrayBuffer(44+2*t.length),e=new DataView(n);return p(e,t.length),l(e,44,t),e}function h(t,n){if(n===M.sampleRate)return t;for(var e=t.length,r=M.sampleRate/n,o=Math.round(e/r),u=new Float32Array(o),i=0,c=0,a=0,f=e;i<u.length;){for(var s=Math.round((i+1)*r),l=0,p=0,v=c;v<s&&v<e;v++)l+=t[v],p++;l>M.quietTrimThreshold&&(0===a&&(a=i),f=i),u[i]=l/p,i++,c=s}return M.useTrim?u.slice(Math.max(0,a-M.quietTrimSlackBack),Math.min(o,f+M.quietTrimSlackBack)):u}Object.defineProperty(n,"__esModule",{value:!0});var y=e("woOf"),m=e.n(y),d=16,x=d/8,g=16e3,b=1,w=0,O=[],M={sampleRate:44e3,numChannels:1,useDownsample:!0,useTrim:!0,quietTrimThreshold:8e-4,quietTrimSlackBack:4e3};self.onmessage=function(t){switch(t.data.command){case"init":r(t.data.config);break;case"record":o(t.data.buffer);break;case"exportWav":u(t.data.type);break;case"getBuffer":i();break;case"clear":c();break;case"close":self.close()}}},D2L2:function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},EqjI:function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},FeBl:function(t,n){var e=t.exports={version:"2.6.10"};"number"==typeof __e&&(__e=e)},Ibhu:function(t,n,e){var r=e("D2L2"),o=e("TcQ7"),u=e("vFc/")(!1),i=e("ax3d")("IE_PROTO");t.exports=function(t,n){var e,c=o(t),a=0,f=[];for(e in c)e!=i&&r(c,e)&&f.push(e);for(;n.length>a;)r(c,e=n[a++])&&(~u(f,e)||f.push(e));return f}},MU5D:function(t,n,e){var r=e("R9M2");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},MmMw:function(t,n,e){var r=e("EqjI");t.exports=function(t,n){if(!r(t))return t;var e,o;if(n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;if("function"==typeof(e=t.valueOf)&&!r(o=e.call(t)))return o;if(!n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;throw TypeError("Can\'t convert object to primitive value")}},NpIQ:function(t,n){n.f={}.propertyIsEnumerable},O4g8:function(t,n){t.exports=!0},ON07:function(t,n,e){var r=e("EqjI"),o=e("7KvD").document,u=r(o)&&r(o.createElement);t.exports=function(t){return u?o.createElement(t):{}}},QRG4:function(t,n,e){var r=e("UuGF"),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},R4wc:function(t,n,e){var r=e("kM2E");r(r.S+r.F,"Object",{assign:e("To3L")})},R9M2:function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},S82l:function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},SfB7:function(t,n,e){t.exports=!e("+E39")&&!e("S82l")(function(){return 7!=Object.defineProperty(e("ON07")("div"),"a",{get:function(){return 7}}).a})},TcQ7:function(t,n,e){var r=e("MU5D"),o=e("52gC");t.exports=function(t){return r(o(t))}},To3L:function(t,n,e){"use strict";var r=e("+E39"),o=e("lktj"),u=e("1kS7"),i=e("NpIQ"),c=e("sB3e"),a=e("MU5D"),f=Object.assign;t.exports=!f||e("S82l")(function(){var t={},n={},e=Symbol(),r="abcdefghijklmnopqrst";return t[e]=7,r.split("").forEach(function(t){n[t]=t}),7!=f({},t)[e]||Object.keys(f({},n)).join("")!=r})?function(t,n){for(var e=c(t),f=arguments.length,s=1,l=u.f,p=i.f;f>s;)for(var v,h=a(arguments[s++]),y=l?o(h).concat(l(h)):o(h),m=y.length,d=0;m>d;)v=y[d++],r&&!p.call(h,v)||(e[v]=h[v]);return e}:f},UuGF:function(t,n){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},V3tA:function(t,n,e){e("R4wc"),t.exports=e("FeBl").Object.assign},X8DO:function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},ax3d:function(t,n,e){var r=e("e8AB")("keys"),o=e("3Eo+");t.exports=function(t){return r[t]||(r[t]=o(t))}},e8AB:function(t,n,e){var r=e("FeBl"),o=e("7KvD"),u=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,n){return u[t]||(u[t]=void 0!==n?n:{})})("versions",[]).push({version:r.version,mode:e("O4g8")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},evD5:function(t,n,e){var r=e("77Pl"),o=e("SfB7"),u=e("MmMw"),i=Object.defineProperty;n.f=e("+E39")?Object.defineProperty:function(t,n,e){if(r(t),n=u(n,!0),r(e),o)try{return i(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},fkB2:function(t,n,e){var r=e("UuGF"),o=Math.max,u=Math.min;t.exports=function(t,n){return t=r(t),t<0?o(t+n,0):u(t,n)}},hJx8:function(t,n,e){var r=e("evD5"),o=e("X8DO");t.exports=e("+E39")?function(t,n,e){return r.f(t,n,o(1,e))}:function(t,n,e){return t[n]=e,t}},kM2E:function(t,n,e){var r=e("7KvD"),o=e("FeBl"),u=e("+ZMJ"),i=e("hJx8"),c=e("D2L2"),a=function(t,n,e){var f,s,l,p=t&a.F,v=t&a.G,h=t&a.S,y=t&a.P,m=t&a.B,d=t&a.W,x=v?o:o[n]||(o[n]={}),g=x.prototype,b=v?r:h?r[n]:(r[n]||{}).prototype;v&&(e=n);for(f in e)(s=!p&&b&&void 0!==b[f])&&c(x,f)||(l=s?b[f]:e[f],x[f]=v&&"function"!=typeof b[f]?e[f]:m&&s?u(l,r):d&&b[f]==l?function(t){var n=function(n,e,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,r)}return t.apply(this,arguments)};return n.prototype=t.prototype,n}(l):y&&"function"==typeof l?u(Function.call,l):l,y&&((x.virtual||(x.virtual={}))[f]=l,t&a.R&&g&&!g[f]&&i(g,f,l)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},lOnJ:function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},lktj:function(t,n,e){var r=e("Ibhu"),o=e("xnc9");t.exports=Object.keys||function(t){return r(t,o)}},sB3e:function(t,n,e){var r=e("52gC");t.exports=function(t){return Object(r(t))}},"vFc/":function(t,n,e){var r=e("TcQ7"),o=e("QRG4"),u=e("fkB2");t.exports=function(t){return function(n,e,i){var c,a=r(n),f=o(a.length),s=u(i,f);if(t&&e!=e){for(;f>s;)if((c=a[s++])!=c)return!0}else for(;f>s;s++)if((t||s in a)&&a[s]===e)return t||s||0;return!t&&-1}}},woOf:function(t,n,e){t.exports={default:e("V3tA"),__esModule:!0}},xnc9:function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")}});\n//# sourceMappingURL=wav-worker.721180a.js.map',n.p+"static/js/wav-worker.721180a.js")}},"8USY":function(e,t,n){"use strict";var o=n("//Fk"),i=n.n(o),s=n("G8Lo");t.a={name:"input-container",data:function(){return{textInput:"",isTextFieldFocused:!1,shouldShowTooltip:!1,tooltipEventHandlers:{mouseenter:this.onInputButtonHoverEnter,mouseleave:this.onInputButtonHoverLeave,touchstart:this.onInputButtonHoverEnter,touchend:this.onInputButtonHoverLeave,touchcancel:this.onInputButtonHoverLeave}}},props:["textInputPlaceholder","initialSpeechInstruction"],components:{RecorderStatus:s.a},computed:{isBotSpeaking:function(){return this.$store.state.botAudio.isSpeaking},isSpeechConversationGoing:function(){return this.$store.state.recState.isConversationGoing},isMicButtonDisabled:function(){return this.isMicMuted},isMicMuted:function(){return this.$store.state.recState.isMicMuted},isRecorderSupported:function(){return this.$store.state.recState.isRecorderSupported},isRecorderEnabled:function(){return this.$store.state.recState.isRecorderEnabled},isSendButtonDisabled:function(){return this.textInput.length<1},micButtonIcon:function(){return this.isMicMuted?"mic_off":this.isBotSpeaking||this.isSpeechConversationGoing?"stop":"mic"},inputButtonTooltip:function(){return this.shouldShowSendButton?"send":this.isMicMuted?"mic seems to be muted":this.isBotSpeaking||this.isSpeechConversationGoing?"interrupt":"click to use voice"},shouldShowSendButton:function(){return this.textInput.length&&this.isTextFieldFocused||!this.isRecorderSupported||!this.isRecorderEnabled},shouldShowTextInput:function(){return!(this.isBotSpeaking||this.isSpeechConversationGoing)}},methods:{onInputButtonHoverEnter:function(){this.shouldShowTooltip=!1},onInputButtonHoverLeave:function(){this.shouldShowTooltip=!1},onMicClick:function(){return this.onInputButtonHoverLeave(),this.isBotSpeaking||this.isSpeechConversationGoing?this.$store.dispatch("interruptSpeechConversation"):this.isSpeechConversationGoing?i.a.resolve():this.startSpeechConversation()},onTextFieldFocus:function(){this.isTextFieldFocused=!0},onTextFieldBlur:function(){!this.textInput.length&&this.isTextFieldFocused&&(this.isTextFieldFocused=!1)},setInputTextFieldFocus:function(){this.$refs.textInput.$refs.input.focus()},playInitialInstruction:function(){var e=this,t=["","Fulfilled","Failed"].some(function(t){return e.$store.state.lex.dialogState===t});return this.$store.state.isLoggedIn&&t?this.$store.dispatch("pollySynthesizeSpeech",this.initialSpeechInstruction):i.a.resolve()},takePicture:function(){window.dispatchEvent(new MessageEvent("takePicture")),void 0===this.listener&&(this.listener=!0,window.addEventListener("pictureData",this.uploadPicture,!1))},choosePicture:function(){window.dispatchEvent(new MessageEvent("choosePicture")),void 0===this.listener&&(this.listener=!0,window.addEventListener("pictureData",this.uploadPicture,!1))},uploadPicture:function(e){this.$store.dispatch("uploadPicture",{image:e.detail})},postTextMessage:function(){var e=this;if(this.onInputButtonHoverLeave(),this.textInput=this.textInput.trim(),!this.textInput.length)return i.a.resolve();var t={type:"human",text:this.textInput};return this.$store.dispatch("postTextMessage",t).then(function(){e.textInput="",e.setInputTextFieldFocus()})},startSpeechConversation:function(){var e=this;return this.isMicMuted?i.a.resolve():this.setAutoPlay().then(function(){return e.playInitialInstruction()}).then(function(){return e.$store.dispatch("startConversation")}).catch(function(t){console.error("error in startSpeechConversation",t);var n=e.$store.state.config.ui.showErrorDetails?" "+t:"";e.$store.dispatch("pushErrorMessage","Sorry, I couldn't start the conversation. Please try again."+n)})},setAutoPlay:function(){return this.$store.state.botAudio.autoPlay?i.a.resolve():this.$store.dispatch("setAudioAutoPlay")}}}},"8YCc":function(e,t){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},"8Zeb":function(e,t){},"8rpi":function(e,t,n){"use strict";var o=n("EFqf"),i=new o.Renderer;i.link=function(e,t,n){return'<a href="'+e+'" title="'+t+'" target="_blank">'+n+"</a>"},t.a={name:"message-text",props:["message"],computed:{shouldConvertUrlToLinks:function(){return this.$store.state.config.ui.convertUrlToLinksInBotMessages},shouldStripTags:function(){return this.$store.state.config.ui.stripTagsFromBotMessages},AllowSuperDangerousHTMLInMessage:function(){return this.$store.state.config.ui.AllowSuperDangerousHTMLInMessage},altHtmlMessage:function(){var e=!1;return this.message.alts&&(this.message.alts.html?e=this.message.alts.html:this.message.alts.markdown&&(e=o(this.message.alts.markdown,{renderer:i}))),e},shouldRenderAsHtml:function(){return"bot"===this.message.type&&this.shouldConvertUrlToLinks},botMessageAsHtml:function(){var e=this.stripTagsFromMessage(this.message.text);return this.botMessageWithLinks(e)}},methods:{encodeAsHtml:function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},botMessageWithLinks:function(e){var t=this;return[{type:"web",regex:new RegExp("\\b((?:https?://\\w{1}|www\\.)(?:[\\w-.]){2,256}(?:[\\w._~:/?#@!$&()*+,;=['\\]-]){0,256})","im"),replace:function(e){var n=/^https?:\/\//.test(e)?e:"http://"+e;return'<a target="_blank" href="'+encodeURI(n)+'">'+t.encodeAsHtml(e)+"</a>"}}].reduce(function(e,n){return e.split(n.regex).reduce(function(e,o,i,s){var r="";if(i%2==0){var a=i+1===s.length?"":n.replace(s[i+1]);r=""+t.encodeAsHtml(o)+a}return e+r},"")},e)},stripTagsFromMessage:function(e){var t=document.implementation.createHTMLDocument("").body;return t.innerHTML=e,t.textContent||t.innerText||""}}}},AO5d:function(e,t,n){"use strict";t.a={name:"page",props:["favIcon","pageTitle"],render:function(){var e=document.querySelector("head"),t=document.createElement("link");t.setAttribute("rel","fav icon"),t.setAttribute("href",this.favIcon),e.appendChild(t);var n=document.createElement("title");n.textContent=this.pageTitle,e.appendChild(n)}}},AfI8:function(e,t,n){"use strict";function o(){var e=n("4B8H"),t=e.keys().pop();return t?e(t):l.a}var i=n("7+uW"),s=n("NYxO"),r=n("3EgV"),a=n.n(r),c=n("pMNZ"),u=n("z2C2"),d=n("7MJ+"),l=n.n(d);i.a.use(s.a),i.a.use(a.a);var p=new u.a({ui:{toolbarLogo:function(){var e=n("px/K"),t=e.keys().pop();return t?e(t):l.a}()}});t.a={name:"lex-app",store:p.store,components:{Page:c.a},data:function(){return{favIcon:o(),pageTitle:"Alex"}}}},BZIS:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{staticClass:"message-list",attrs:{column:"","fill-height":""}},[e._l(e.messages,function(t){return n("message",{key:t.id,ref:"messages",refInFor:!0,class:"message-"+t.type,attrs:{message:t},on:{scrollDown:e.scrollDown}})}),e._v(" "),e.loading?n("MessageLoading"):e._e()],2)},i=[],s={render:o,staticRenderFns:i};t.a=s},CmqP:function(e,t){},CnFD:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-toolbar",{attrs:{color:e.toolbarColor,app:"",dark:"",dense:"",fixed:""}},[n("v-toolbar-title",{staticClass:"hidden-xs-and-down",on:{click:e.toggleMinimize}},[e._v("\n    "+e._s(e.toolbarTitle)+"\n  ")]),e._v(" "),n("v-toolbar-title",{staticClass:"hidden-xs-and-down"},[e._v("\n    "+e._s(e.userName)+"\n  ")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-tooltip",{attrs:{activator:".min-max-toggle",left:""},model:{value:e.shouldShowTooltip,callback:function(t){e.shouldShowTooltip=t},expression:"shouldShowTooltip"}},[n("span",{attrs:{id:"min-max-tooltip"}},[e._v(e._s(e.toolTipMinimize))])]),e._v(" "),n("v-tooltip",{attrs:{activator:".help-toggle",left:""},model:{value:e.shouldShowHelpTooltip,callback:function(t){e.shouldShowHelpTooltip=t},expression:"shouldShowHelpTooltip"}},[n("span",{attrs:{id:"help-tooltip"}},[e._v("help")])]),e._v(" "),e.helpButton&&!e.isUiMinimized?n("v-btn",e._g({staticClass:"help-toggle",attrs:{icon:""},on:{click:e.sendHelp}},e.tooltipHelpEventHandlers),[n("v-icon",[e._v("\n      help_outline\n    ")])],1):e._e(),e._v(" "),e.$store.state.isRunningEmbedded?n("v-btn",e._g({staticClass:"min-max-toggle",attrs:{icon:""},on:{click:e.toggleMinimize}},e.tooltipEventHandlers),[n("v-icon",[e._v("\n      "+e._s(e.isUiMinimized?"arrow_drop_up":"arrow_drop_down")+"\n    ")])],1):e._e()],1)},i=[],s={render:o,staticRenderFns:i};t.a=s},"Fk+a":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-flex",{staticClass:"message",attrs:{"d-flex":""}},[n("v-layout",{staticClass:"message-layout",attrs:{column:"","ma-2":""}},[n("v-flex",{staticClass:"message-bubble-date-container",attrs:{"d-flex":""}},[n("v-layout",{staticClass:"message-bubble-column",attrs:{column:""}},[n("v-flex",{staticClass:"message-bubble-avatar-container",attrs:{"d-flex":""}},[n("v-layout",{staticClass:"message-bubble-row",class:{"message-bubble-row-image":"image"in e.message},style:e.imageBackground,attrs:{row:""}},[e.shouldShowAvatarImage?n("div",{staticClass:"bot-avatar focusable",style:e.botAvatarBackground,attrs:{tabindex:e.message.id+1}}):e._e(),e._v(" "),n("div",{staticClass:"message-bubble focusable",attrs:{tabindex:e.message.id+1},on:{focus:e.onMessageFocus,blur:e.onMessageBlur}},["image"in e.message?n("div"):e._e(),e._v(" "),"text"in e.message&&null!==e.message.text&&e.message.text.length?n("message-text",{attrs:{message:e.message}}):e._e(),e._v(" "),"human"===e.message.type&&e.message.audio?n("div",{staticClass:"message-audio"},[n("audio",[n("source",{attrs:{src:e.message.audio,type:"audio/wav"}})]),e._v(" "),n("v-btn",{staticClass:"black--text ml-0 mr-0",attrs:{tabindex:e.message.id+1,icon:""},on:{click:e.playAudio}},[n("v-icon",{staticClass:"play-icon"},[e._v("play_circle_outline")])],1)],1):e._e(),e._v(" "),e.message.id===this.$store.state.messages.length-1&&e.isLastMessageFeedback&&"bot"===e.message.type&&e.botDialogState&&e.showDialogFeedback?n("div",{staticClass:"feedback-state"},[n("v-icon",{class:{"feedback-icons-positive":!e.positiveClick,positiveClick:e.positiveClick},on:{click:function(t){return e.onButtonClick(e.positiveIntent)}}},[e._v("\n                  thumb_up\n                ")]),e._v(" "),n("v-icon",{class:{"feedback-icons-negative":!e.negativeClick,negativeClick:e.negativeClick},on:{click:function(t){return e.onButtonClick(e.negativeIntent)}}},[e._v("\n                  thumb_down\n                ")])],1):e._e(),e._v(" "),"bot"===e.message.type&&e.botDialogState&&e.showDialogStateIcon?n("v-icon",{staticClass:"dialog-state",class:"dialog-state-"+e.botDialogState.state,attrs:{medium:""}},[e._v("\n                "+e._s(e.botDialogState.icon)+"\n              ")]):e._e()],1)])],1),e._v(" "),e.shouldShowMessageDate&&e.isMessageFocused?n("v-flex",{staticClass:"text-xs-center message-date"},[e._v("\n         "+e._s(e.messageHumanDate)+"\n        ")]):e._e()],1)],1),e._v(" "),e.shouldDisplayResponseCard?n("v-flex",{staticClass:"response-card",attrs:{"d-flex":"","mt-2":"","mr-2":"","ml-3":""}},e._l(e.message.responseCard.genericAttachments,function(e,t){return n("response-card",{key:t,attrs:{"response-card":e}})}),1):e._e()],1)],1)},i=[],s={render:o,staticRenderFns:i};t.a=s},G8Lo:function(e,t,n){"use strict";function o(e){n("vKhg")}var i=n("Wnk9"),s=n("dfjm"),r=n("VU/8"),a=o,c=r(i.a,s.a,!1,a,"data-v-bf63ba86",null);t.a=c.exports},HM6l:function(e,t){e.exports={pagination:{}}},IcnI:function(e,t,n){"use strict";var o=n("lwq5"),i=n("UjVw"),s=n("ukYY"),r=n("mUbh");t.a={strict:!1,state:o.a,getters:i.a,mutations:s.a,actions:r.a}},Ird2:function(e,t,n){"use strict";function o(e){n("CmqP")}var i=n("8rpi"),s=n("V6qH"),r=n("VU/8"),a=o,c=r(i.a,s.a,!1,a,"data-v-23a97478",null);t.a=c.exports},JkKI:function(e,t){e.exports="data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU2LjM2LjEwMAAAAAAAAAAAAAAA//OEAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAEAAABIADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV6urq6urq6urq6urq6urq6urq6urq6urq6v////////////////////////////////8AAAAATGF2YzU2LjQxAAAAAAAAAAAAAAAAJAAAAAAAAAAAASDs90hvAAAAAAAAAAAAAAAAAAAA//MUZAAAAAGkAAAAAAAAA0gAAAAATEFN//MUZAMAAAGkAAAAAAAAA0gAAAAARTMu//MUZAYAAAGkAAAAAAAAA0gAAAAAOTku//MUZAkAAAGkAAAAAAAAA0gAAAAANVVV"},KYqO:function(e,t){e.exports={_args:[["elliptic@6.5.1","/Users/gzomer/Documents/Development/Projects/aws-hackathons/aws-lex-web-ui/lex-web-ui"]],_development:!0,_from:"elliptic@6.5.1",_id:"elliptic@6.5.1",_inBundle:!1,_integrity:"sha512-xvJINNLbTeWQjrl6X+7eQCrIy/YPv5XCpKW6kB5mKvtnGILoLDcySuwomfdzt0BMdLNVnuRNTuzKNHj0bva1Cg==",_location:"/elliptic",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"elliptic@6.5.1",name:"elliptic",escapedName:"elliptic",rawSpec:"6.5.1",saveSpec:null,fetchSpec:"6.5.1"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.5.1.tgz",_spec:"6.5.1",_where:"/Users/gzomer/Documents/Development/Projects/aws-hackathons/aws-lex-web-ui/lex-web-ui",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^3.0.4",grunt:"^1.0.4","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.2",jscs:"^3.0.7",jshint:"^2.6.0",mocha:"^6.1.4"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.5.1"}},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("7+uW"),i=n("YaEn"),s=n("U8c0");new o.a({el:"#lex-app",router:i.a,template:"<lex-app></lex-app>",components:{LexApp:s.a}}),o.a.config.errorHandler=function(e,t,n){console.error("unhandled error in lex-app: ",e,t,n)}},Ncz9:function(e,t){e.exports={version:"2.0",metadata:{apiVersion:"2016-11-28",endpointPrefix:"runtime.lex",jsonVersion:"1.1",protocol:"rest-json",serviceFullName:"Amazon Lex Runtime Service",serviceId:"Lex Runtime Service",signatureVersion:"v4",signingName:"lex",uid:"runtime.lex-2016-11-28"},operations:{DeleteSession:{http:{method:"DELETE",requestUri:"/bot/{botName}/alias/{botAlias}/user/{userId}/session"},input:{type:"structure",required:["botName","botAlias","userId"],members:{botName:{location:"uri",locationName:"botName"},botAlias:{location:"uri",locationName:"botAlias"},userId:{location:"uri",locationName:"userId"}}},output:{type:"structure",members:{botName:{},botAlias:{},userId:{},sessionId:{}}}},GetSession:{http:{method:"GET",requestUri:"/bot/{botName}/alias/{botAlias}/user/{userId}/session/"},input:{type:"structure",required:["botName","botAlias","userId"],members:{botName:{location:"uri",locationName:"botName"},botAlias:{location:"uri",locationName:"botAlias"},userId:{location:"uri",locationName:"userId"},checkpointLabelFilter:{location:"querystring",locationName:"checkpointLabelFilter"}}},output:{type:"structure",members:{recentIntentSummaryView:{shape:"Sa"},sessionAttributes:{shape:"Sd"},sessionId:{},dialogAction:{shape:"Sh"}}}},PostContent:{http:{requestUri:"/bot/{botName}/alias/{botAlias}/user/{userId}/content"},input:{type:"structure",required:["botName","botAlias","userId","contentType","inputStream"],members:{botName:{location:"uri",locationName:"botName"},botAlias:{location:"uri",locationName:"botAlias"},userId:{location:"uri",locationName:"userId"},sessionAttributes:{shape:"Sl",jsonvalue:!0,location:"header",locationName:"x-amz-lex-session-attributes"},requestAttributes:{shape:"Sl",jsonvalue:!0,location:"header",locationName:"x-amz-lex-request-attributes"},contentType:{location:"header",locationName:"Content-Type"},accept:{location:"header",locationName:"Accept"},inputStream:{shape:"So"}},payload:"inputStream"},output:{type:"structure",members:{contentType:{location:"header",locationName:"Content-Type"},intentName:{location:"header",locationName:"x-amz-lex-intent-name"},slots:{jsonvalue:!0,location:"header",locationName:"x-amz-lex-slots"},sessionAttributes:{jsonvalue:!0,location:"header",locationName:"x-amz-lex-session-attributes"},message:{shape:"Si",location:"header",locationName:"x-amz-lex-message"},messageFormat:{location:"header",locationName:"x-amz-lex-message-format"},dialogState:{location:"header",locationName:"x-amz-lex-dialog-state"},slotToElicit:{location:"header",locationName:"x-amz-lex-slot-to-elicit"},inputTranscript:{location:"header",locationName:"x-amz-lex-input-transcript"},audioStream:{shape:"So"}},payload:"audioStream"},authtype:"v4-unsigned-body"},PostText:{http:{requestUri:"/bot/{botName}/alias/{botAlias}/user/{userId}/text"},input:{type:"structure",required:["botName","botAlias","userId","inputText"],members:{botName:{location:"uri",locationName:"botName"},botAlias:{location:"uri",locationName:"botAlias"},userId:{location:"uri",locationName:"userId"},sessionAttributes:{shape:"Sd"},requestAttributes:{shape:"Sd"},inputText:{shape:"Si"}}},output:{type:"structure",members:{intentName:{},slots:{shape:"Sd"},sessionAttributes:{shape:"Sd"},message:{shape:"Si"},messageFormat:{},dialogState:{},slotToElicit:{},responseCard:{type:"structure",members:{version:{},contentType:{},genericAttachments:{type:"list",member:{type:"structure",members:{title:{},subTitle:{},attachmentLinkUrl:{},imageUrl:{},buttons:{type:"list",member:{type:"structure",required:["text","value"],members:{text:{},value:{}}}}}}}}}}}},PutSession:{http:{requestUri:"/bot/{botName}/alias/{botAlias}/user/{userId}/session"},input:{type:"structure",required:["botName","botAlias","userId"],members:{botName:{location:"uri",locationName:"botName"},botAlias:{location:"uri",locationName:"botAlias"},userId:{location:"uri",locationName:"userId"},sessionAttributes:{shape:"Sd"},dialogAction:{shape:"Sh"},recentIntentSummaryView:{shape:"Sa"},accept:{location:"header",locationName:"Accept"}}},output:{type:"structure",members:{contentType:{location:"header",locationName:"Content-Type"},intentName:{location:"header",locationName:"x-amz-lex-intent-name"},slots:{jsonvalue:!0,location:"header",locationName:"x-amz-lex-slots"},sessionAttributes:{jsonvalue:!0,location:"header",locationName:"x-amz-lex-session-attributes"},message:{shape:"Si",location:"header",locationName:"x-amz-lex-message"},messageFormat:{location:"header",locationName:"x-amz-lex-message-format"},dialogState:{location:"header",locationName:"x-amz-lex-dialog-state"},slotToElicit:{location:"header",locationName:"x-amz-lex-slot-to-elicit"},audioStream:{shape:"So"},sessionId:{location:"header",locationName:"x-amz-lex-session-id"}},payload:"audioStream"}}},shapes:{Sa:{type:"list",member:{type:"structure",required:["dialogActionType"],members:{intentName:{},checkpointLabel:{},slots:{shape:"Sd"},confirmationStatus:{},dialogActionType:{},fulfillmentState:{},slotToElicit:{}}}},Sd:{type:"map",key:{},value:{},sensitive:!0},Sh:{type:"structure",required:["type"],members:{type:{},intentName:{},slots:{shape:"Sd"},slotToElicit:{},fulfillmentState:{},message:{shape:"Si"},messageFormat:{}}},Si:{type:"string",sensitive:!0},Sl:{type:"string",sensitive:!0},So:{type:"blob",streaming:!0}}}},OVZV:function(e,t){},Pa39:function(e,t){},QDfD:function(e,t){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},QIJa:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"lex-app"}},[e._m(0),e._v(" "),n("router-view")],1)},i=[function(){var e=this,t=e.$createElement;return(e._self._c||t)("page",{attrs:{favIcon:e.favIcon,pageTitle:e.pageTitle}})}],s={render:o,staticRenderFns:i};t.a=s},U8c0:function(e,t,n){"use strict";function o(e){n("zAVw")}var i=n("AfI8"),s=n("QIJa"),r=n("VU/8"),a=o,c=r(i.a,s.a,!1,a,null,null);t.a=c.exports},UJkf:function(e,t){},UjVw:function(e,t,n){"use strict";t.a={canInterruptBotPlayback:function(e){return e.botAudio.canInterrupt},isBotSpeaking:function(e){return e.botAudio.isSpeaking},isConversationGoing:function(e){return e.recState.isConversationGoing},isLexInterrupting:function(e){return e.lex.isInterrupting},isLexProcessing:function(e){return e.lex.isProcessing},isMicMuted:function(e){return e.recState.isMicMuted},isMicQuiet:function(e){return e.recState.isMicQuiet},isRecorderSupported:function(e){return e.recState.isRecorderSupported},isRecording:function(e){return e.recState.isRecording},isBackProcessing:function(e){return e.isBackProcessing},lastUtterance:function(e){return function(){return 0===e.utteranceStack.length?"":e.utteranceStack[e.utteranceStack.length-1].t}}}},V6qH:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return!e.message.text||"human"!==e.message.type&&"feedback"!==e.message.type?e.altHtmlMessage&&e.AllowSuperDangerousHTMLInMessage?n("div",{staticClass:"message-text",domProps:{innerHTML:e._s(e.altHtmlMessage)}}):e.message.text&&e.shouldRenderAsHtml?n("div",{staticClass:"message-text",domProps:{innerHTML:e._s(e.botMessageAsHtml)}}):e.message.text&&"bot"===e.message.type?n("div",{staticClass:"message-text"},[e._v("\n  "+e._s(e.shouldStripTags?e.stripTagsFromMessage(e.message.text):e.message.text)+"\n")]):e._e():n("div",{staticClass:"message-text"},[e._v("\n "+e._s(e.message.text)+"\n")])},i=[],s={render:o,staticRenderFns:i};t.a=s},WDUQ:function(e,t,n){"use strict";var o=n("Zrlr"),i=n.n(o),s=n("wxAW"),r=n.n(s),a=function(){function e(t){var n=t.botName,o=t.botAlias,s=void 0===o?"$LATEST":o,r=t.userId,a=t.lexRuntimeClient;if(i()(this,e),!n||!a)throw new Error("invalid lex client constructor arguments");this.botName=n,this.botAlias=s,this.userId=r||"lex-web-ui-"+Math.floor(65536*(1+Math.random())).toString(16).substring(1),this.lexRuntimeClient=a,this.credentials=this.lexRuntimeClient.config.credentials}return r()(e,[{key:"initCredentials",value:function(e){this.credentials=e,this.lexRuntimeClient.config.credentials=this.credentials,this.userId=e.identityId?e.identityId:this.userId}},{key:"postText",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=this.lexRuntimeClient.postText({botAlias:this.botAlias,botName:this.botName,userId:this.userId,inputText:e,sessionAttributes:n});return this.credentials.getPromise().then(function(e){return e&&t.initCredentials(e)}).then(function(){return o.promise()})}},{key:"postContent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"audio/ogg",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=e.type,r=s;s.startsWith("audio/wav")?r="audio/x-l16; sample-rate=16000; channel-count=1":s.startsWith("audio/ogg")?r="audio/x-cbr-opus-with-preamble; bit-rate=32000; frame-size-milliseconds=20; preamble-size="+i:console.warn("unknown media type in lex client");var a=this.lexRuntimeClient.postContent({accept:o,botAlias:this.botAlias,botName:this.botName,userId:this.userId,contentType:r,inputStream:e,sessionAttributes:t});return this.credentials.getPromise().then(function(e){return e&&n.initCredentials(e)}).then(function(){return a.promise()})}}]),e}();t.a=a},Wnk9:function(e,t,n){"use strict";t.a={name:"recorder-status",data:function(){return{volume:0,volumeIntervalId:null,audioPlayPercent:0,audioIntervalId:null}},computed:{isSpeechConversationGoing:function(){return this.isConversationGoing},isProcessing:function(){return this.isSpeechConversationGoing&&!this.isRecording&&!this.isBotSpeaking},statusText:function(){return this.isInterrupting?"Interrupting...":this.canInterruptBotPlayback?'Say "skip" and I\'ll listen for your answer...':this.isMicMuted?"Microphone seems to be muted...":this.isRecording?"Listening...":this.isBotSpeaking?"Playing audio...":this.isSpeechConversationGoing?"Processing...":this.isRecorderSupported?"Click on the mic":""},canInterruptBotPlayback:function(){return this.$store.state.botAudio.canInterrupt},isBotSpeaking:function(){return this.$store.state.botAudio.isSpeaking},isConversationGoing:function(){return this.$store.state.recState.isConversationGoing},isInterrupting:function(){return this.$store.state.recState.isInterrupting||this.$store.state.botAudio.isInterrupting},isMicMuted:function(){return this.$store.state.recState.isMicMuted},isRecorderSupported:function(){return this.$store.state.recState.isRecorderSupported},isRecording:function(){return this.$store.state.recState.isRecording}},methods:{enterMeter:function(){var e=this;this.volumeIntervalId=setInterval(function(){e.$store.dispatch("getRecorderVolume").then(function(t){e.volume=t.instant.toFixed(4)})},50)},leaveMeter:function(){this.volumeIntervalId&&clearInterval(this.volumeIntervalId)},enterAudioPlay:function(){var e=this;this.audioIntervalId=setInterval(function(){e.$store.dispatch("getAudioProperties").then(function(t){var n=t.end,o=void 0===n?0:n,i=t.duration,s=void 0===i?0:i,r=s<=0?0:o/s*100;e.audioPlayPercent=10*Math.ceil(r/10)+5})},20)},leaveAudioPlay:function(){this.audioIntervalId&&(this.audioPlayPercent=0,clearInterval(this.audioIntervalId))}}}},XDYz:function(e,t){},YZsC:function(e,t){e.exports={version:"2.0",metadata:{apiVersion:"2011-06-15",endpointPrefix:"sts",globalEndpoint:"sts.amazonaws.com",protocol:"query",serviceAbbreviation:"AWS STS",serviceFullName:"AWS Security Token Service",serviceId:"STS",signatureVersion:"v4",uid:"sts-2011-06-15",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/"},operations:{AssumeRole:{input:{type:"structure",required:["RoleArn","RoleSessionName"],members:{RoleArn:{},RoleSessionName:{},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"},ExternalId:{},SerialNumber:{},TokenCode:{}}},output:{resultWrapper:"AssumeRoleResult",type:"structure",members:{Credentials:{shape:"Sc"},AssumedRoleUser:{shape:"Sh"},PackedPolicySize:{type:"integer"}}}},AssumeRoleWithSAML:{input:{type:"structure",required:["RoleArn","PrincipalArn","SAMLAssertion"],members:{RoleArn:{},PrincipalArn:{},SAMLAssertion:{},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"AssumeRoleWithSAMLResult",type:"structure",members:{Credentials:{shape:"Sc"},AssumedRoleUser:{shape:"Sh"},PackedPolicySize:{type:"integer"},Subject:{},SubjectType:{},Issuer:{},Audience:{},NameQualifier:{}}}},AssumeRoleWithWebIdentity:{input:{type:"structure",required:["RoleArn","RoleSessionName","WebIdentityToken"],members:{RoleArn:{},RoleSessionName:{},WebIdentityToken:{},ProviderId:{},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"AssumeRoleWithWebIdentityResult",type:"structure",members:{Credentials:{shape:"Sc"},SubjectFromWebIdentityToken:{},AssumedRoleUser:{shape:"Sh"},PackedPolicySize:{type:"integer"},Provider:{},Audience:{}}}},DecodeAuthorizationMessage:{input:{type:"structure",required:["EncodedMessage"],members:{EncodedMessage:{}}},output:{resultWrapper:"DecodeAuthorizationMessageResult",type:"structure",members:{DecodedMessage:{}}}},GetAccessKeyInfo:{input:{type:"structure",required:["AccessKeyId"],members:{AccessKeyId:{}}},output:{resultWrapper:"GetAccessKeyInfoResult",type:"structure",members:{Account:{}}}},GetCallerIdentity:{input:{type:"structure",members:{}},output:{resultWrapper:"GetCallerIdentityResult",type:"structure",members:{UserId:{},Account:{},Arn:{}}}},GetFederationToken:{input:{type:"structure",required:["Name"],members:{Name:{},Policy:{},PolicyArns:{shape:"S4"},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"GetFederationTokenResult",type:"structure",members:{Credentials:{shape:"Sc"},FederatedUser:{type:"structure",required:["FederatedUserId","Arn"],members:{FederatedUserId:{},Arn:{}}},PackedPolicySize:{type:"integer"}}}},GetSessionToken:{input:{type:"structure",members:{DurationSeconds:{type:"integer"},SerialNumber:{},TokenCode:{}}},output:{resultWrapper:"GetSessionTokenResult",type:"structure",members:{Credentials:{shape:"Sc"}}}}},shapes:{S4:{type:"list",member:{type:"structure",members:{arn:{}}}},Sc:{type:"structure",required:["AccessKeyId","SecretAccessKey","SessionToken","Expiration"],members:{AccessKeyId:{},SecretAccessKey:{},SessionToken:{},Expiration:{type:"timestamp"}}},Sh:{type:"structure",required:["AssumedRoleId","Arn"],members:{AssumedRoleId:{},Arn:{}}}}}},YaEn:function(e,t,n){"use strict";var o=n("7+uW"),i=n("/ocq");o.a.use(i.a),t.a=new i.a({routes:[{path:"/",name:"LexWebUi",component:{template:"<lex-web-ui></lex-web-ui>"}}]})},ZY77:function(e,t){e.exports={pagination:{ListSpeechSynthesisTasks:{input_token:"NextToken",output_token:"NextToken",limit_key:"MaxResults"}}}},ZfnY:function(e,t,n){"use strict";t.a={name:"messageLoading",data:function(){return{progress:"."}},computed:{},methods:{},created:function(){var e=this;this.interval=setInterval(function(){e.progress.length>2?e.progress=".":e.progress+="."},500)},destroyed:function(){clearInterval(this.interval)}}},a49w:function(e,t){e.exports={version:"2.0",metadata:{apiVersion:"2016-06-10",endpointPrefix:"polly",protocol:"rest-json",serviceFullName:"Amazon Polly",serviceId:"Polly",signatureVersion:"v4",uid:"polly-2016-06-10"},operations:{DeleteLexicon:{http:{method:"DELETE",requestUri:"/v1/lexicons/{LexiconName}",responseCode:200},input:{type:"structure",required:["Name"],members:{Name:{shape:"S2",location:"uri",locationName:"LexiconName"}}},output:{type:"structure",members:{}}},DescribeVoices:{http:{method:"GET",requestUri:"/v1/voices",responseCode:200},input:{type:"structure",members:{Engine:{location:"querystring",locationName:"Engine"},LanguageCode:{location:"querystring",locationName:"LanguageCode"},IncludeAdditionalLanguageCodes:{location:"querystring",locationName:"IncludeAdditionalLanguageCodes",type:"boolean"},NextToken:{location:"querystring",locationName:"NextToken"}}},output:{type:"structure",members:{Voices:{type:"list",member:{type:"structure",members:{Gender:{},Id:{},LanguageCode:{},LanguageName:{},Name:{},AdditionalLanguageCodes:{type:"list",member:{}},SupportedEngines:{type:"list",member:{}}}}},NextToken:{}}}},GetLexicon:{http:{method:"GET",requestUri:"/v1/lexicons/{LexiconName}",responseCode:200},input:{type:"structure",required:["Name"],members:{Name:{shape:"S2",location:"uri",locationName:"LexiconName"}}},output:{type:"structure",members:{Lexicon:{type:"structure",members:{Content:{},Name:{shape:"S2"}}},LexiconAttributes:{shape:"Sm"}}}},GetSpeechSynthesisTask:{http:{method:"GET",requestUri:"/v1/synthesisTasks/{TaskId}",responseCode:200},input:{type:"structure",required:["TaskId"],members:{TaskId:{location:"uri",locationName:"TaskId"}}},output:{type:"structure",members:{SynthesisTask:{shape:"Sv"}}}},ListLexicons:{http:{method:"GET",requestUri:"/v1/lexicons",responseCode:200},input:{type:"structure",members:{NextToken:{location:"querystring",locationName:"NextToken"}}},output:{type:"structure",members:{Lexicons:{type:"list",member:{type:"structure",members:{Name:{shape:"S2"},Attributes:{shape:"Sm"}}}},NextToken:{}}}},ListSpeechSynthesisTasks:{http:{method:"GET",requestUri:"/v1/synthesisTasks",responseCode:200},input:{type:"structure",members:{MaxResults:{location:"querystring",locationName:"MaxResults",type:"integer"},NextToken:{location:"querystring",locationName:"NextToken"},Status:{location:"querystring",locationName:"Status"}}},output:{type:"structure",members:{NextToken:{},SynthesisTasks:{type:"list",member:{shape:"Sv"}}}}},PutLexicon:{http:{method:"PUT",requestUri:"/v1/lexicons/{LexiconName}",responseCode:200},input:{type:"structure",required:["Name","Content"],members:{Name:{shape:"S2",location:"uri",locationName:"LexiconName"},Content:{}}},output:{type:"structure",members:{}}},StartSpeechSynthesisTask:{http:{requestUri:"/v1/synthesisTasks",responseCode:200},input:{type:"structure",required:["OutputFormat","OutputS3BucketName","Text","VoiceId"],members:{Engine:{},LanguageCode:{},LexiconNames:{shape:"S12"},OutputFormat:{},OutputS3BucketName:{},OutputS3KeyPrefix:{},SampleRate:{},SnsTopicArn:{},SpeechMarkTypes:{shape:"S15"},Text:{},TextType:{},VoiceId:{}}},output:{type:"structure",members:{SynthesisTask:{shape:"Sv"}}}},SynthesizeSpeech:{http:{requestUri:"/v1/speech",responseCode:200},input:{type:"structure",required:["OutputFormat","Text","VoiceId"],members:{Engine:{},LanguageCode:{},LexiconNames:{shape:"S12"},OutputFormat:{},SampleRate:{},SpeechMarkTypes:{shape:"S15"},Text:{},TextType:{},VoiceId:{}}},output:{type:"structure",members:{AudioStream:{type:"blob",streaming:!0},ContentType:{location:"header",locationName:"Content-Type"},RequestCharacters:{location:"header",locationName:"x-amzn-RequestCharacters",type:"integer"}},payload:"AudioStream"}}},shapes:{S2:{type:"string",sensitive:!0},Sm:{type:"structure",members:{Alphabet:{},LanguageCode:{},LastModified:{type:"timestamp"},LexiconArn:{},LexemesCount:{type:"integer"},Size:{type:"integer"}}},Sv:{type:"structure",members:{Engine:{},TaskId:{},TaskStatus:{},TaskStatusReason:{},OutputUri:{},CreationTime:{type:"timestamp"},RequestCharacters:{type:"integer"},SnsTopicArn:{},LexiconNames:{shape:"S12"},OutputFormat:{},SampleRate:{},SpeechMarkTypes:{shape:"S15"},TextType:{},VoiceId:{},LanguageCode:{}}},S12:{type:"list",member:{shape:"S2"}},S15:{type:"list",member:{}}}}},a6CN:function(e,t){e.exports={pagination:{}}},bhMs:function(e,t,n){"use strict";t.a={name:"toolbar-container",data:function(){return{items:[{title:"Login"},{title:"Logout"}],shouldShowTooltip:!1,shouldShowHelpTooltip:!1,prevNav:!1,prevNavEventHandlers:{mouseenter:this.mouseOverPrev,mouseleave:this.mouseOverPrev,touchstart:this.mouseOverPrev,touchend:this.mouseOverPrev,touchcancel:this.mouseOverPrev},tooltipHelpEventHandlers:{mouseenter:this.onHelpButtonHoverEnter,mouseleave:this.onHelpButtonHoverLeave,touchstart:this.onHelpButtonHoverEnter,touchend:this.onHelpButtonHoverLeave,touchcancel:this.onHelpButtonHoverLeave},tooltipEventHandlers:{mouseenter:this.onInputButtonHoverEnter,mouseleave:this.onInputButtonHoverLeave,touchstart:this.onInputButtonHoverEnter,touchend:this.onInputButtonHoverLeave,touchcancel:this.onInputButtonHoverLeave}}},props:["toolbarTitle","toolbarColor","toolbarLogo","isUiMinimized","userName"],computed:{toolTipMinimize:function(){return this.isUiMinimized?"maximize":"minimize"},isEnableLogin:function(){return this.$store.state.config.ui.enableLogin},hasPrevUtterance:function(){return this.$store.state.utteranceStack.length>1},isLoggedIn:function(){return this.$store.state.isLoggedIn},isBackProcessing:function(){return this.$store.state.isBackProcessing},helpButton:function(){return this.$store.state.config.ui.helpIntent}},methods:{mouseOverPrev:function(){this.prevNav=!this.prevNav},onInputButtonHoverEnter:function(){this.shouldShowTooltip=!0},onInputButtonHoverLeave:function(){this.shouldShowTooltip=!1},onHelpButtonHoverEnter:function(){this.shouldShowHelpTooltip=!0},onHelpButtonHoverLeave:function(){this.shouldShowHelpTooltip=!1},onNavHoverEnter:function(){this.shouldShowNavToolTip=!0},onNavHoverLeave:function(){this.shouldShowNavToolTip=!1},toggleMinimize:function(){this.$store.state.isRunningEmbedded&&(this.onInputButtonHoverLeave(),this.$emit("toggleMinimizeUi"))},sendHelp:function(){var e={type:"human",text:this.helpButton};this.$store.dispatch("postTextMessage",e)},onPrev:function(){if(!this.$store.state.isBackProcessing){this.$store.commit("popUtterance");var e=this.$store.getters.lastUtterance();if(e&&e.length>0){var t={type:"human",text:e};this.$store.commit("toggleBackProcessing"),this.$store.dispatch("postTextMessage",t)}}},requestLogin:function(){this.$emit("requestLogin")},requestLogout:function(){this.$emit("requestLogout")},toggleIsLoggedIn:function(){this.onInputButtonHoverLeave(),this.$emit("toggleIsLoggedIn")}}}},c6ee:function(e,t,n){"use strict";function o(e){n("h3ZB")}var i=n("6K0a"),s=n("zTC8"),r=n("VU/8"),a=o,c=r(i.a,s.a,!1,a,null,null);t.a=c.exports},d6Aa:function(e,t){e.exports={cognito:{poolId:""},lex:{botName:"Alex",initialText:"",initialSpeechInstruction:""},polly:{voiceId:"Salli"},ui:{parentOrigin:"http://localhost:8080"},recorder:{preset:"speech_recognition"}}},dfjm:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-flex",{staticClass:"recorder-status white"},[n("div",{staticClass:"status-text"},[n("span",[e._v(e._s(e.statusText))])]),e._v(" "),n("div",{staticClass:"voice-controls ml-2"},[e.isProcessing?n("v-progress-linear",{staticClass:"processing-bar ma-0",attrs:{indeterminate:!0}}):e._e(),e._v(" "),n("transition",{attrs:{css:!1},on:{enter:e.enterAudioPlay,leave:e.leaveAudioPlay}},[e.isBotSpeaking?n("v-progress-linear",{staticClass:"audio-progress-bar ma-0",model:{value:e.audioPlayPercent,callback:function(t){e.audioPlayPercent=t},expression:"audioPlayPercent"}}):e._e()],1)],1)])},i=[],s={render:o,staticRenderFns:i};t.a=s},dm3o:function(e,t){e.exports={region:"us-east-1",cognito:{poolId:"us-east-1:f4d8a918-adf6-49e6-8224-a576b12c5524",aws_cognito_region:"us-east-1",region:"us-east-1"},lex:{botName:"Alex",initialText:"",initialSpeechInstruction:""},polly:{voiceId:"Matthew"},ui:{parentOrigin:"",pageTitle:"Alex",toolbarTitle:"Alex",pushInitialTextOnRestart:!1},recorder:{preset:"speech_recognition"}}},eELq:function(e,t){e.exports={acm:{name:"ACM",cors:!0},apigateway:{name:"APIGateway",cors:!0},applicationautoscaling:{prefix:"application-autoscaling",name:"ApplicationAutoScaling",cors:!0},appstream:{name:"AppStream"},autoscaling:{name:"AutoScaling",cors:!0},batch:{name:"Batch"},budgets:{name:"Budgets"},clouddirectory:{name:"CloudDirectory",versions:["2016-05-10*"]},cloudformation:{name:"CloudFormation",cors:!0},cloudfront:{name:"CloudFront",versions:["2013-05-12*","2013-11-11*","2014-05-31*","2014-10-21*","2014-11-06*","2015-04-17*","2015-07-27*","2015-09-17*","2016-01-13*","2016-01-28*","2016-08-01*","2016-08-20*","2016-09-07*","2016-09-29*","2016-11-25*","2017-03-25*","2017-10-30*","2018-06-18*","2018-11-05*"],cors:!0},cloudhsm:{name:"CloudHSM",cors:!0},cloudsearch:{name:"CloudSearch"},cloudsearchdomain:{name:"CloudSearchDomain"},cloudtrail:{name:"CloudTrail",cors:!0},cloudwatch:{prefix:"monitoring",name:"CloudWatch",cors:!0},cloudwatchevents:{prefix:"events",name:"CloudWatchEvents",versions:["2014-02-03*"],cors:!0},cloudwatchlogs:{prefix:"logs",name:"CloudWatchLogs",cors:!0},codebuild:{name:"CodeBuild",cors:!0},codecommit:{name:"CodeCommit",cors:!0},codedeploy:{name:"CodeDeploy",cors:!0},codepipeline:{name:"CodePipeline",cors:!0},cognitoidentity:{prefix:"cognito-identity",name:"CognitoIdentity",cors:!0},cognitoidentityserviceprovider:{prefix:"cognito-idp",name:"CognitoIdentityServiceProvider",cors:!0},cognitosync:{prefix:"cognito-sync",name:"CognitoSync",cors:!0},configservice:{prefix:"config",name:"ConfigService",cors:!0},cur:{name:"CUR",cors:!0},datapipeline:{name:"DataPipeline"},devicefarm:{name:"DeviceFarm",cors:!0},directconnect:{name:"DirectConnect",cors:!0},directoryservice:{prefix:"ds",name:"DirectoryService"},discovery:{name:"Discovery"},dms:{name:"DMS"},dynamodb:{name:"DynamoDB",cors:!0},dynamodbstreams:{prefix:"streams.dynamodb",name:"DynamoDBStreams",cors:!0},ec2:{name:"EC2",versions:["2013-06-15*","2013-10-15*","2014-02-01*","2014-05-01*","2014-06-15*","2014-09-01*","2014-10-01*","2015-03-01*","2015-04-15*","2015-10-01*","2016-04-01*","2016-09-15*"],cors:!0},ecr:{name:"ECR",cors:!0},ecs:{name:"ECS",cors:!0},efs:{prefix:"elasticfilesystem",name:"EFS",cors:!0},elasticache:{name:"ElastiCache",versions:["2012-11-15*","2014-03-24*","2014-07-15*","2014-09-30*"],cors:!0},elasticbeanstalk:{name:"ElasticBeanstalk",cors:!0},elb:{prefix:"elasticloadbalancing",name:"ELB",cors:!0},elbv2:{prefix:"elasticloadbalancingv2",name:"ELBv2",cors:!0},emr:{prefix:"elasticmapreduce",name:"EMR",cors:!0},es:{name:"ES"},elastictranscoder:{name:"ElasticTranscoder",cors:!0},firehose:{name:"Firehose",cors:!0},gamelift:{name:"GameLift",cors:!0},glacier:{name:"Glacier"},health:{name:"Health"},iam:{name:"IAM",cors:!0},importexport:{name:"ImportExport"},inspector:{name:"Inspector",versions:["2015-08-18*"],cors:!0},iot:{name:"Iot",cors:!0},iotdata:{prefix:"iot-data",name:"IotData",cors:!0},kinesis:{name:"Kinesis",cors:!0},kinesisanalytics:{name:"KinesisAnalytics"},kms:{name:"KMS",cors:!0},lambda:{name:"Lambda",cors:!0},lexruntime:{prefix:"runtime.lex",name:"LexRuntime",cors:!0},lightsail:{name:"Lightsail"},machinelearning:{name:"MachineLearning",cors:!0},marketplacecommerceanalytics:{name:"MarketplaceCommerceAnalytics",cors:!0},marketplacemetering:{prefix:"meteringmarketplace",name:"MarketplaceMetering"},mturk:{prefix:"mturk-requester",name:"MTurk",cors:!0},mobileanalytics:{name:"MobileAnalytics",cors:!0},opsworks:{name:"OpsWorks",cors:!0},opsworkscm:{name:"OpsWorksCM"},organizations:{name:"Organizations"},pinpoint:{name:"Pinpoint"},polly:{name:"Polly",cors:!0},rds:{name:"RDS",versions:["2014-09-01*"],cors:!0},redshift:{name:"Redshift",cors:!0},rekognition:{name:"Rekognition",cors:!0},resourcegroupstaggingapi:{name:"ResourceGroupsTaggingAPI"},route53:{name:"Route53",cors:!0},route53domains:{name:"Route53Domains",cors:!0},s3:{name:"S3",dualstackAvailable:!0,cors:!0},s3control:{name:"S3Control",dualstackAvailable:!0},servicecatalog:{name:"ServiceCatalog",cors:!0},ses:{prefix:"email",name:"SES",cors:!0},shield:{name:"Shield"},simpledb:{prefix:"sdb",name:"SimpleDB"},sms:{name:"SMS"},snowball:{name:"Snowball"},sns:{name:"SNS",cors:!0},sqs:{name:"SQS",cors:!0},ssm:{name:"SSM",cors:!0},storagegateway:{name:"StorageGateway",cors:!0},stepfunctions:{prefix:"states",name:"StepFunctions"},sts:{name:"STS",cors:!0},support:{name:"Support"},swf:{name:"SWF"},xray:{name:"XRay",cors:!0},waf:{name:"WAF",cors:!0},wafregional:{prefix:"waf-regional",name:"WAFRegional"},workdocs:{name:"WorkDocs",cors:!0},workspaces:{name:"WorkSpaces"},codestar:{name:"CodeStar"},lexmodelbuildingservice:{prefix:"lex-models",name:"LexModelBuildingService",cors:!0},marketplaceentitlementservice:{prefix:"entitlement.marketplace",name:"MarketplaceEntitlementService"},athena:{name:"Athena"},greengrass:{name:"Greengrass"},dax:{name:"DAX"},migrationhub:{prefix:"AWSMigrationHub",name:"MigrationHub"},cloudhsmv2:{name:"CloudHSMV2"},glue:{name:"Glue"},mobile:{name:"Mobile"},pricing:{name:"Pricing",cors:!0},costexplorer:{prefix:"ce",name:"CostExplorer",cors:!0},mediaconvert:{name:"MediaConvert"},medialive:{name:"MediaLive"},mediapackage:{name:"MediaPackage"},mediastore:{name:"MediaStore"},mediastoredata:{prefix:"mediastore-data",name:"MediaStoreData",cors:!0},appsync:{name:"AppSync"},guardduty:{name:"GuardDuty"},mq:{name:"MQ"},comprehend:{name:"Comprehend",cors:!0},iotjobsdataplane:{prefix:"iot-jobs-data",name:"IoTJobsDataPlane"},kinesisvideoarchivedmedia:{prefix:"kinesis-video-archived-media",name:"KinesisVideoArchivedMedia",cors:!0},kinesisvideomedia:{prefix:"kinesis-video-media",name:"KinesisVideoMedia",cors:!0},kinesisvideo:{name:"KinesisVideo",cors:!0},sagemakerruntime:{prefix:"runtime.sagemaker",name:"SageMakerRuntime"},sagemaker:{name:"SageMaker"},translate:{name:"Translate",cors:!0},resourcegroups:{prefix:"resource-groups",name:"ResourceGroups",cors:!0},alexaforbusiness:{name:"AlexaForBusiness"},cloud9:{name:"Cloud9"},serverlessapplicationrepository:{prefix:"serverlessrepo",name:"ServerlessApplicationRepository"},servicediscovery:{name:"ServiceDiscovery"},workmail:{name:"WorkMail"},autoscalingplans:{prefix:"autoscaling-plans",name:"AutoScalingPlans"},transcribeservice:{prefix:"transcribe",name:"TranscribeService"},connect:{name:"Connect",cors:!0},acmpca:{prefix:"acm-pca",name:"ACMPCA"},fms:{name:"FMS"},secretsmanager:{name:"SecretsManager",cors:!0},iotanalytics:{name:"IoTAnalytics",cors:!0},iot1clickdevicesservice:{prefix:"iot1click-devices",name:"IoT1ClickDevicesService"},iot1clickprojects:{prefix:"iot1click-projects",name:"IoT1ClickProjects"},pi:{name:"PI"},neptune:{name:"Neptune"},mediatailor:{name:"MediaTailor"},eks:{name:"EKS"},macie:{name:"Macie"},dlm:{name:"DLM"},signer:{name:"Signer"},chime:{name:"Chime"},pinpointemail:{prefix:"pinpoint-email",name:"PinpointEmail"},ram:{name:"RAM"},route53resolver:{name:"Route53Resolver"},pinpointsmsvoice:{prefix:"sms-voice",name:"PinpointSMSVoice"},quicksight:{name:"QuickSight"},rdsdataservice:{prefix:"rds-data",name:"RDSDataService"},amplify:{name:"Amplify"},datasync:{name:"DataSync"},robomaker:{name:"RoboMaker"},transfer:{name:"Transfer"},globalaccelerator:{name:"GlobalAccelerator"},comprehendmedical:{name:"ComprehendMedical",cors:!0},kinesisanalyticsv2:{name:"KinesisAnalyticsV2"},mediaconnect:{name:"MediaConnect"},fsx:{name:"FSx"},securityhub:{name:"SecurityHub"},appmesh:{name:"AppMesh",versions:["2018-10-01*"]},licensemanager:{prefix:"license-manager",name:"LicenseManager"},kafka:{name:"Kafka"},apigatewaymanagementapi:{name:"ApiGatewayManagementApi"},apigatewayv2:{name:"ApiGatewayV2"},docdb:{name:"DocDB"},backup:{name:"Backup"},worklink:{name:"WorkLink"},textract:{name:"Textract"},managedblockchain:{name:"ManagedBlockchain"},mediapackagevod:{prefix:"mediapackage-vod",name:"MediaPackageVod"},groundstation:{name:"GroundStation"},iotthingsgraph:{name:"IoTThingsGraph"},iotevents:{name:"IoTEvents"},ioteventsdata:{prefix:"iotevents-data",name:"IoTEventsData"},personalize:{name:"Personalize",cors:!0},personalizeevents:{prefix:"personalize-events",name:"PersonalizeEvents",cors:!0},personalizeruntime:{prefix:"personalize-runtime",name:"PersonalizeRuntime",cors:!0},applicationinsights:{prefix:"application-insights",name:"ApplicationInsights"},servicequotas:{prefix:"service-quotas",name:"ServiceQuotas"},ec2instanceconnect:{prefix:"ec2-instance-connect",name:"EC2InstanceConnect"},eventbridge:{name:"EventBridge"},lakeformation:{name:"LakeFormation"},forecastservice:{prefix:"forecast",name:"ForecastService",cors:!0},forecastqueryservice:{prefix:"forecastquery",name:"ForecastQueryService",cors:!0},qldb:{name:"QLDB"},qldbsession:{prefix:"qldb-session",name:"QLDBSession"},workmailmessageflow:{name:"WorkMailMessageFlow"}}},ejIc:function(e,t){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},h3ZB:function(e,t){},hKb1:function(e,t,n){"use strict";function o(e){n("8Zeb")}var i=n("8USY"),s=n("kPUb"),r=n("VU/8"),a=o,c=r(i.a,s.a,!1,a,null,null);t.a=c.exports},ib2o:function(e,t,n){"use strict";function o(e){n("Pa39")}var i=n("7ZMd"),s=n("BZIS"),r=n("VU/8"),a=o,c=r(i.a,s.a,!1,a,"data-v-c870204e",null);t.a=c.exports},kPUb:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-footer",{attrs:{app:"",fixed:""}},[n("v-layout",{staticClass:"input-container",attrs:{row:"","justify-space-between":"","ma-0":""}},[n("v-toolbar",{attrs:{color:"white",dense:""}},[n("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowTextInput,expression:"shouldShowTextInput"}],ref:"textInput",attrs:{label:e.textInputPlaceholder,id:"text-input",name:"text-input","single-line":"","hide-details":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.postTextMessage(t))},focus:e.onTextFieldFocus,blur:e.onTextFieldBlur},model:{value:e.textInput,callback:function(t){e.textInput=t},expression:"textInput"}}),e._v(" "),n("recorder-status",{directives:[{name:"show",rawName:"v-show",value:!e.shouldShowTextInput,expression:"!shouldShowTextInput"}]}),e._v(" "),n("v-tooltip",{ref:"tooltip",attrs:{activator:".input-button",left:""},model:{value:e.shouldShowTooltip,callback:function(t){e.shouldShowTooltip=t},expression:"shouldShowTooltip"}},[n("span",{attrs:{id:"input-button-tooltip"}},[e._v(e._s(e.inputButtonTooltip))])]),e._v(" "),e.shouldShowSendButton?n("v-btn",e._g({ref:"send",staticClass:"black--text input-button",attrs:{disabled:e.isSendButtonDisabled,icon:""},on:{click:e.postTextMessage}},e.tooltipEventHandlers),[n("v-icon",{attrs:{medium:""}},[e._v("send")])],1):n("v-btn",e._g({ref:"mic",staticClass:"black--text input-button",attrs:{disabled:e.isMicButtonDisabled,icon:""},on:{click:e.onMicClick}},e.tooltipEventHandlers),[n("v-icon",{attrs:{medium:""}},[e._v(e._s(e.micButtonIcon))])],1),e._v(" "),n("v-btn",{ref:"picture",staticClass:"black--text input-button",attrs:{icon:""},on:{click:e.takePicture}},[n("v-icon",{attrs:{medium:""}},[e._v("photo_camera")])],1),e._v(" "),n("v-btn",{ref:"choose_picture",staticClass:"black--text input-button",attrs:{icon:""},on:{click:e.choosePicture}},[n("v-icon",{attrs:{medium:""}},[e._v("add")])],1)],1)],1)],1)},i=[],s={render:o,staticRenderFns:i};t.a=s},lwq5:function(e,t,n){"use strict";var o=n("Dd8w"),i=n.n(o),s=n("pFYg"),r=n.n(s),a=n("2uFj");t.a={version:"0.14.13",lex:{acceptFormat:"audio/ogg",dialogState:"",isInterrupting:!1,isProcessing:!1,inputTranscript:"",intentName:"",message:"",responseCard:null,sessionAttributes:a.a.lex&&a.a.lex.sessionAttributes&&"object"===r()(a.a.lex.sessionAttributes)?i()({},a.a.lex.sessionAttributes):{},slotToElicit:"",slots:{}},messages:[],utteranceStack:[],isBackProcessing:!1,polly:{outputFormat:"ogg_vorbis",voiceId:a.a.polly&&a.a.polly.voiceId&&"string"==typeof a.a.polly.voiceId?""+a.a.polly.voiceId:"Joanna"},botAudio:{canInterrupt:!1,interruptIntervalId:null,autoPlay:!1,isInterrupting:!1,isSpeaking:!1},recState:{isConversationGoing:!1,isInterrupting:!1,isMicMuted:!1,isMicQuiet:!0,isRecorderSupported:!1,isRecorderEnabled:!a.a.recorder||!!a.a.recorder.enable,isRecording:!1,silentRecordingCount:0},isRunningEmbedded:!1,isUiMinimized:!1,isEnableLogin:!1,isLoggedIn:!1,hasButtons:!1,tokens:{},config:a.a,awsCreds:{provider:"cognito"}}},mUbh:function(e,t,n){"use strict";var o=n("Dd8w"),i=n.n(o),s=n("fZjL"),r=n.n(s),a=n("//Fk"),c=n.n(a),u=n("1qez"),d=n("yUBx"),l=n("sUeY"),p=n.n(l),f=n("JkKI"),m=n.n(f),h=n("mtWM"),g=n.n(h),b=n("WDUQ"),v=n("abWm"),y=void 0,A=void 0,x=void 0,S=void 0,I=void 0;t.a={initCredentials:function(e,t){switch(e.state.awsCreds.provider){case"cognito":return y=t,x&&x.initCredentials(y),e.dispatch("getCredentials");case"parentWindow":return e.dispatch("getCredentials");default:return c.a.reject(new Error("unknown credential provider"))}},getConfigFromParent:function(e){return e.state.isRunningEmbedded?e.dispatch("sendMessageToParentWindow",{event:"initIframeConfig"}).then(function(e){return"resolve"===e.event&&"initIframeConfig"===e.type?c.a.resolve(e.data):c.a.reject(new Error("invalid config event from parent"))}):c.a.resolve({})},initConfig:function(e,t){e.commit("mergeConfig",t)},initMessageList:function(e){e.commit("pushMessage",{type:"bot",text:e.state.config.lex.initialText})},initLexClient:function(e,t){return x=new b.a({botName:e.state.config.lex.botName,botAlias:e.state.config.lex.botAlias,lexRuntimeClient:t}),e.commit("setLexSessionAttributes",e.state.config.lex.sessionAttributes),e.dispatch("getCredentials").then(function(){return x.initCredentials(y)})},initPollyClient:function(e,t){return e.state.recState.isRecorderEnabled?(A=t,e.commit("setPollyVoiceId",e.state.config.polly.voiceId),e.dispatch("getCredentials").then(function(e){A.config.credentials=e})):c.a.resolve()},initRecorder:function(e){return e.state.config.recorder.enable?(I=new u.a(e.state.config.recorder),I.init().then(function(){return I.initOptions(e.state.config.recorder)}).then(function(){return Object(d.a)(e,I)}).then(function(){return e.commit("setIsRecorderSupported",!0)}).then(function(){return e.commit("setIsMicMuted",I.isMicMuted)}).catch(function(t){["PermissionDeniedError","NotAllowedError"].indexOf(t.name)>=0?(console.warn("get user media permission denied"),e.dispatch("pushErrorMessage","It seems like the microphone access has been denied. If you want to use voice, please allow mic usage in your browser.")):console.error("error while initRecorder",t)})):(e.commit("setIsRecorderEnabled",!1),c.a.resolve())},initBotAudio:function(e,t){if(!e.state.recState.isRecorderEnabled||!e.state.config.recorder.enable)return c.a.resolve();if(!t)return c.a.reject(new Error("invalid audio element"));S=t;var n=void 0;return""!==S.canPlayType("audio/ogg")?(e.commit("setAudioContentType","ogg"),n=p.a):""!==S.canPlayType("audio/mp3")?(e.commit("setAudioContentType","mp3"),n=m.a):(console.error("init audio could not find supportted audio type"),console.warn("init audio can play mp3 [%s]",S.canPlayType("audio/mp3")),console.warn("init audio can play ogg [%s]",S.canPlayType("audio/ogg"))),console.info("recorder content types: %s",I.mimeType),S.preload="auto",S.src=n,S.autoplay=!1,c.a.resolve()},reInitBot:function(e){return c.a.resolve().then(function(){return e.state.config.ui.pushInitialTextOnRestart?e.dispatch("pushMessage",{text:e.state.config.lex.initialText,type:"bot"}):c.a.resolve()}).then(function(){return e.state.config.lex.reInitSessionAttributesOnRestart?e.commit("setLexSessionAttributes",e.state.config.lex.sessionAttributes):c.a.resolve()})},getAudioUrl:function(e,t){var n=void 0;try{n=URL.createObjectURL(t)}catch(e){console.error("getAudioUrl createObjectURL error",e);var o="There was an error processing the audio response: ("+e+")",i=new Error(o);return c.a.reject(i)}return c.a.resolve(n)},setAudioAutoPlay:function(e){return S.autoplay?c.a.resolve():new c.a(function(t,n){S.play(),S.onended=function(){e.commit("setAudioAutoPlay",{audio:S,status:!0}),t()},S.onerror=function(t){e.commit("setAudioAutoPlay",{audio:S,status:!1}),n(new Error("setting audio autoplay failed: "+t))}})},playAudio:function(e,t){return new c.a(function(n){S.onloadedmetadata=function(){e.commit("setIsBotSpeaking",!0),e.dispatch("playAudioHandler").then(function(){return n()})},S.src=t})},playAudioHandler:function(e){return new c.a(function(t,n){var o=e.state.config.lex.enablePlaybackInterrupt,i=function(){e.commit("setIsBotSpeaking",!1);var t=e.state.botAudio.interruptIntervalId;t&&o&&(clearInterval(t),e.commit("setBotPlaybackInterruptIntervalId",0),e.commit("setIsLexInterrupting",!1),e.commit("setCanInterruptBotPlayback",!1),e.commit("setIsBotPlaybackInterrupting",!1))};S.onerror=function(e){i(),n(new Error("There was an error playing the response ("+e+")"))},S.onended=function(){i(),t()},S.onpause=S.onended,o&&e.dispatch("playAudioInterruptHandler")})},playAudioInterruptHandler:function(e){var t=e.state.botAudio.isSpeaking,n=e.state.config.lex,o=n.enablePlaybackInterrupt,i=n.playbackInterruptMinDuration,s=n.playbackInterruptVolumeThreshold,r=n.playbackInterruptLevelThreshold,a=n.playbackInterruptNoiseThreshold;if(o||t||!e.state.lex.isInterrupting||!(S.duration<i)){var c=setInterval(function(){var t=S,n=t.duration,o=S.played.end(0),u=e.state.botAudio.canInterrupt;!u&&o>i&&n-o>.5&&I.volume.max<a?e.commit("setCanInterruptBotPlayback",!0):u&&n-o<.5&&e.commit("setCanInterruptBotPlayback",!1),u&&I.volume.max>s&&I.volume.slow>r&&(clearInterval(c),e.commit("setIsBotPlaybackInterrupting",!0),setTimeout(function(){S.pause()},500))},200);e.commit("setBotPlaybackInterruptIntervalId",c)}},getAudioProperties:function(){return S?{currentTime:S.currentTime,duration:S.duration,end:S.played.length>=1?S.played.end(0):S.duration,ended:S.ended,paused:S.paused}:{}},startConversation:function(e){return e.commit("setIsConversationGoing",!0),e.dispatch("startRecording")},stopConversation:function(e){e.commit("setIsConversationGoing",!1)},startRecording:function(e){return!0===e.state.recState.isMicMuted?(console.warn("recording while muted"),e.dispatch("stopConversation"),c.a.reject(new Error("The microphone seems to be muted."))):(e.commit("startRecording",I),c.a.resolve())},stopRecording:function(e){e.commit("stopRecording",I)},getRecorderVolume:function(e){return e.state.recState.isRecorderEnabled?I.volume:c.a.resolve()},pollyGetBlob:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";return e.dispatch("refreshAuthTokens").then(function(){return e.dispatch("getCredentials")}).then(function(o){return A.config.credentials=o,A.synthesizeSpeech({Text:t,VoiceId:e.state.polly.voiceId,OutputFormat:e.state.polly.outputFormat,TextType:n}).promise()}).then(function(e){var t=new Blob([e.AudioStream],{type:e.ContentType});return c.a.resolve(t)})},pollySynthesizeSpeech:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";return e.dispatch("pollyGetBlob",t,n).then(function(t){return e.dispatch("getAudioUrl",t)}).then(function(t){return e.dispatch("playAudio",t)})},interruptSpeechConversation:function(e){return e.state.recState.isConversationGoing||e.state.botAudio.isSpeaking?new c.a(function(t,n){e.dispatch("stopConversation").then(function(){return e.dispatch("stopRecording")}).then(function(){e.state.botAudio.isSpeaking&&S.pause()}).then(function(){var o=0;e.commit("setIsLexInterrupting",!0);var i=setInterval(function(){e.state.lex.isProcessing||(clearInterval(i),e.commit("setIsLexInterrupting",!1),t()),o>20&&(clearInterval(i),e.commit("setIsLexInterrupting",!1),n(new Error("interrupt interval exceeded"))),o+=1},250)})}):c.a.resolve()},uploadPicture:function(e,t){return e.dispatch("pushMessage",{type:"human",image:"data:image/jpeg;base64,"+t.image}),new c.a(function(n,o){g()({method:"POST",url:"https://hzokmmq951.execute-api.us-east-2.amazonaws.com/Production/upload_file",crossDomain:!0,xDomainRequest:!0,xDomain:!0,headers:{Accept:"application/json","Content-Type":"multipart/form-data"},data:t.image}).then(function(t){var o=e.state.config.lex.sessionAttributes;o.lastUploadedURL=t.data.body.url,e.commit("setLexSessionAttributes",o),n()}).catch(function(e){return o(e)})})},postTextMessage:function(e,t){return e.dispatch("interruptSpeechConversation").then(function(){return e.dispatch("pushMessage",t)}).then(function(){return e.commit("pushUtterance",t.text)}).then(function(){return e.dispatch("lexPostText",t)}).then(function(t){if(t.message&&t.message.includes('{"messages":')){var n=JSON.parse(t.message);n&&Array.isArray(n.messages)&&n.messages.forEach(function(o,i){var s=JSON.parse(t.sessionAttributes.appContext||"{}").altMessages;"CustomPayload"===o.type&&(void 0===s&&(s={}),s.markdown=o.value),e.dispatch("pushMessage",{text:o.value,type:"bot",dialogState:e.state.lex.dialogState,responseCard:n.messages.length-1===i?e.state.lex.responseCard:void 0,alts:s})})}else{var o=JSON.parse(t.sessionAttributes.appContext||"{}").altMessages;"CustomPayload"===t.messageFormat&&(void 0===o&&(o={}),o.markdown=t.message),e.dispatch("pushMessage",{text:t.message,type:"bot",dialogState:e.state.lex.dialogState,responseCard:e.state.lex.responseCard,alts:o})}}).then(function(){"Fulfilled"===e.state.lex.dialogState&&e.dispatch("reInitBot")}).catch(function(t){var n=e.state.config.ui.showErrorDetails?" "+t:"";console.error("error in postTextMessage",t),e.dispatch("pushErrorMessage","Sorry, I was unable to process your message. Try again later."+n)})},lexPostText:function(e,t){e.commit("setIsLexProcessing",!0);var n=e.state.lex.sessionAttributes;if(t.data)for(var o=r()(t.data),i=0;i<o.length;i+=1)n[o[i]]=t.data[o[i]];return delete n.appContext,e.dispatch("refreshAuthTokens").then(function(){return e.dispatch("getCredentials")}).then(function(){return x.postText(t.text,n)}).then(function(t){return e.commit("setIsLexProcessing",!1),e.dispatch("updateLexState",t).then(function(){return c.a.resolve(t)})}).catch(function(t){throw e.commit("setIsLexProcessing",!1),t})},lexPostContent:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.commit("setIsLexProcessing",!0);var o=e.state.lex.sessionAttributes;delete o.appContext,console.info("audio blob size:",t.size);var i=void 0;return e.dispatch("refreshAuthTokens").then(function(){return e.dispatch("getCredentials")}).then(function(){return i=performance.now(),x.postContent(t,o,e.state.lex.acceptFormat,n)}).then(function(t){var n=performance.now();return console.info("lex postContent processing time:",((n-i)/1e3).toFixed(2)),e.commit("setIsLexProcessing",!1),e.dispatch("updateLexState",t).then(function(){return e.dispatch("processLexContentResponse",t)}).then(function(e){return c.a.resolve(e)})}).catch(function(t){throw e.commit("setIsLexProcessing",!1),t})},processLexContentResponse:function(e,t){var n=t.audioStream,o=t.contentType,i=t.dialogState;return c.a.resolve().then(function(){if(!n||!n.length){var t="ReadyForFulfillment"===i?"All done":"There was an error";return e.dispatch("pollyGetBlob",t)}return c.a.resolve(new Blob([n],{type:o}))})},updateLexState:function(e,t){var n={dialogState:"",inputTranscript:"",intentName:"",message:"",responseCard:null,sessionAttributes:{},slotToElicit:"",slots:{}};if("sessionAttributes"in t&&"appContext"in t.sessionAttributes)try{var o=JSON.parse(t.sessionAttributes.appContext);"responseCard"in o&&(n.responseCard=o.responseCard)}catch(e){var s=new Error("error parsing appContext in sessionAttributes: "+e);return c.a.reject(s)}return e.commit("updateLexState",i()({},n,t)),e.state.isRunningEmbedded&&e.dispatch("sendMessageToParentWindow",{event:"updateLexState",state:e.state.lex}),c.a.resolve()},pushMessage:function(e,t){e.commit("pushMessage",t)},pushErrorMessage:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Failed";e.commit("pushMessage",{type:"bot",text:t,dialogState:n})},getCredentialsFromParent:function(e){var t=y&&y.expireTime?y.expireTime:0;return new Date(t).getTime()>Date.now()?c.a.resolve(y):e.dispatch("sendMessageToParentWindow",{event:"getCredentials"}).then(function(e){if("resolve"===e.event&&"getCredentials"===e.type)return c.a.resolve(e.data);var t=new Error("invalid credential event from parent");return c.a.reject(t)}).then(function(e){var t=e.data.Credentials,n=t.AccessKeyId,o=t.SecretKey,i=t.SessionToken,s=e.data.IdentityId;return y={accessKeyId:n,secretAccessKey:o,sessionToken:i,identityId:s,expired:!1,getPromise:function(){return c.a.resolve(y)}}})},getCredentials:function(e){return"parentWindow"===e.state.awsCreds.provider?e.dispatch("getCredentialsFromParent"):y.getPromise().then(function(){return y})},refreshAuthTokensFromParent:function(e){return e.dispatch("sendMessageToParentWindow",{event:"refreshAuthTokens"}).then(function(t){if("resolve"===t.event&&"refreshAuthTokens"===t.type)return c.a.resolve(t.data);if(e.state.isRunningEmbedded){var n=new Error("invalid refresh token event from parent");return c.a.reject(n)}return c.a.resolve("outofbandrefresh")}).then(function(t){return e.state.isRunningEmbedded&&e.commit("setTokens",t),c.a.resolve()})},refreshAuthTokens:function(e){return e.state.tokens.idtokenjwt&&function(e){if(e){var t=v.decode(e,{complete:!0});if(t){return Date.now()>1e3*(t.payload.exp-300)}return!1}return!1}(e.state.tokens.idtokenjwt)?(console.info("starting auth token refresh"),e.dispatch("refreshAuthTokensFromParent")):c.a.resolve()},toggleIsUiMinimized:function(e){return e.commit("toggleIsUiMinimized"),e.dispatch("sendMessageToParentWindow",{event:"toggleMinimizeUi"})},toggleIsLoggedIn:function(e){return e.commit("toggleIsLoggedIn"),e.dispatch("sendMessageToParentWindow",{event:"toggleIsLoggedIn"})},toggleHasButtons:function(e){return e.commit("toggleHasButtons"),e.dispatch("sendMessageToParentWindow",{event:"toggleHasButtons"})},sendMessageToParentWindow:function(e,t){return e.state.isRunningEmbedded?new c.a(function(n,o){var i=new MessageChannel;i.port1.onmessage=function(e){if(i.port1.close(),i.port2.close(),"resolve"===e.data.event)n(e.data);else{var t="error in sendMessageToParentWindow: "+e.data.error;o(new Error(t))}};var s=e.state.config.ui.parentOrigin;if(s!==window.location.origin){var r=e.state.config.ui.parentOrigin.split("."),a=window.location.origin.split(".");r[0]===a[0]&&(s=window.location.origin)}window.parent.postMessage(t,s,[i.port2])}):new c.a(function(e,n){try{var o=new CustomEvent("fullpagecomponent",{detail:t});document.dispatchEvent(o),e(o)}catch(e){n(e)}})}}},md3F:function(e,t,n){"use strict";function o(e){n("UJkf")}var i=n("ZfnY"),s=n("2bRa"),r=n("VU/8"),a=o,c=r(i.a,s.a,!1,a,"data-v-4a02dd56",null);t.a=c.exports},nt0N:function(e,t){e.exports={cognito:{poolId:"us-east-1:f4d8a918-adf6-49e6-8224-a576b12c5524"},lex:{botName:"Alex",initialText:"",initialSpeechInstruction:""},polly:{voiceId:"Matthew"},ui:{parentOrigin:"http://localhost:8080",pageTitle:"Alex",toolbarTitle:"Alex",enableLogin:!1,pushInitialTextOnRestart:!1,shouldDisplayResponseCardTitle:!1,showErrorIcon:!0,showDialogStateIcon:!1,positiveFeedbackIntent:"Thumbs up",negativeFeedbackIntent:"Thumbs down",helpIntent:"help",hideInputFieldsForButtonResponse:!0},recorder:{preset:"speech_recognition"},iframe:{shouldLoadIframeMinimized:!1}}},omUY:function(e,t,n){"use strict";function o(e){n("XDYz")}var i=n("bhMs"),s=n("CnFD"),r=n("VU/8"),a=o,c=r(i.a,s.a,!1,a,null,null);t.a=c.exports},pMNZ:function(e,t,n){"use strict";var o=n("AO5d"),i=n("VU/8"),s=i(o.a,null,!1,null,null,null);t.a=s.exports},pMlE:function(e,t,n){"use strict";t.a={name:"response-card",props:["response-card"],data:function(){return{hasButtonBeenClicked:!1}},computed:{shouldDisplayResponseCardTitle:function(){return this.$store.state.config.ui.shouldDisplayResponseCardTitle}},methods:{onButtonClick:function(e){this.hasButtonBeenClicked=!0;var t={type:"human",text:e};this.$store.dispatch("postTextMessage",t)}}}},pmM0:function(e,t,n){function o(e){return n(i(e))}function i(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var s={"./config.awstest.json":"+QAq","./config.dev.json":"nt0N","./config.prod.json":"dm3o","./config.test.json":"d6Aa"};o.keys=function(){return Object.keys(s)},o.resolve=i,e.exports=o,o.id="pmM0"},"px/K":function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="px/K"},"rFp/":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[e.shouldDisplayResponseCardTitle?n("div",[e.responseCard.title&&e.responseCard.title.trim()?n("v-card-title",{staticClass:"blue lighten-5",attrs:{"primary-title":""}},[n("span",{staticClass:"headline"},[e._v(e._s(e.responseCard.title))])]):e._e()],1):e._e(),e._v(" "),e.responseCard.subTitle?n("v-card-text",[n("span",[e._v(e._s(e.responseCard.subTitle))])]):e._e(),e._v(" "),e.responseCard.imageUrl?n("v-card-media",{attrs:{src:e.responseCard.imageUrl,contain:"",height:"33vh"}}):e._e(),e._v(" "),e.responseCard.buttons?n("v-card-actions",{staticClass:"button-row"},e._l(e.responseCard.buttons,function(t){return n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.text&&t.value,expression:"button.text && button.value"}],key:t.id,attrs:{disabled:e.hasButtonBeenClicked,round:"",default:""},nativeOn:{"~click":function(n){return e.onButtonClick(t.value)}}},[e._v("\n      "+e._s(t.text)+"\n    ")])}),1):e._e(),e._v(" "),e.responseCard.attachmentLinkUrl?n("v-card-actions",[n("v-btn",{staticClass:"blue lighten-5",attrs:{flat:"",tag:"a",href:e.responseCard.attachmentLinkUrl,target:"_blank"}},[e._v("\n      Open Link\n    ")])],1):e._e()],1)},i=[],s={render:o,staticRenderFns:i};t.a=s},sUeY:function(e,t){e.exports="data:audio/ogg;base64,T2dnUwACAAAAAAAAAAAyzN3NAAAAAGFf2X8BM39GTEFDAQAAAWZMYUMAAAAiEgASAAAAAAAkFQrEQPAAAAAAAAAAAAAAAAAAAAAAAAAAAE9nZ1MAAAAAAAAAAAAAMszdzQEAAAD5LKCSATeEAAAzDQAAAExhdmY1NS40OC4xMDABAAAAGgAAAGVuY29kZXI9TGF2YzU1LjY5LjEwMCBmbGFjT2dnUwAEARIAAAAAAAAyzN3NAgAAAKWVljkCDAD/+GkIAAAdAAABICI="},t3VV:function(e,t,n){"use strict";function o(e){n("OVZV")}var i=n("pMlE"),s=n("rFp/"),r=n("VU/8"),a=o,c=r(i.a,s.a,!1,a,"data-v-804dbe30",null);t.a=c.exports},tG3f:function(e,t){e.exports={pagination:{}}},uCti:function(e,t){e.exports={version:"2.0",metadata:{apiVersion:"2014-06-30",endpointPrefix:"cognito-identity",jsonVersion:"1.1",protocol:"json",serviceFullName:"Amazon Cognito Identity",serviceId:"Cognito Identity",signatureVersion:"v4",targetPrefix:"AWSCognitoIdentityService",uid:"cognito-identity-2014-06-30"},operations:{CreateIdentityPool:{input:{type:"structure",required:["IdentityPoolName","AllowUnauthenticatedIdentities"],members:{IdentityPoolName:{},AllowUnauthenticatedIdentities:{type:"boolean"},SupportedLoginProviders:{shape:"S4"},DeveloperProviderName:{},OpenIdConnectProviderARNs:{shape:"S8"},CognitoIdentityProviders:{shape:"Sa"},SamlProviderARNs:{shape:"Sf"},IdentityPoolTags:{shape:"Sg"}}},output:{shape:"Sj"}},DeleteIdentities:{input:{type:"structure",required:["IdentityIdsToDelete"],members:{IdentityIdsToDelete:{type:"list",member:{}}}},output:{type:"structure",members:{UnprocessedIdentityIds:{type:"list",member:{type:"structure",members:{IdentityId:{},ErrorCode:{}}}}}}},DeleteIdentityPool:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}}},DescribeIdentity:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{}}},output:{shape:"Su"}},DescribeIdentityPool:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}},output:{shape:"Sj"}},GetCredentialsForIdentity:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{},Logins:{shape:"Sz"},CustomRoleArn:{}}},output:{type:"structure",members:{IdentityId:{},Credentials:{type:"structure",members:{AccessKeyId:{},SecretKey:{},SessionToken:{},Expiration:{type:"timestamp"}}}}}},GetId:{input:{type:"structure",required:["IdentityPoolId"],members:{AccountId:{},IdentityPoolId:{},Logins:{shape:"Sz"}}},output:{type:"structure",members:{IdentityId:{}}}},GetIdentityPoolRoles:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}},output:{type:"structure",members:{IdentityPoolId:{},Roles:{shape:"S1b"},RoleMappings:{shape:"S1d"}}}},GetOpenIdToken:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{},Logins:{shape:"Sz"}}},output:{type:"structure",members:{IdentityId:{},Token:{}}}},GetOpenIdTokenForDeveloperIdentity:{input:{type:"structure",required:["IdentityPoolId","Logins"],members:{IdentityPoolId:{},IdentityId:{},Logins:{shape:"Sz"},TokenDuration:{type:"long"}}},output:{type:"structure",members:{IdentityId:{},Token:{}}}},ListIdentities:{input:{type:"structure",required:["IdentityPoolId","MaxResults"],members:{IdentityPoolId:{},MaxResults:{type:"integer"},NextToken:{},HideDisabled:{type:"boolean"}}},output:{type:"structure",members:{IdentityPoolId:{},Identities:{type:"list",member:{shape:"Su"}},NextToken:{}}}},ListIdentityPools:{input:{type:"structure",required:["MaxResults"],members:{MaxResults:{type:"integer"},NextToken:{}}},output:{type:"structure",members:{IdentityPools:{type:"list",member:{type:"structure",members:{IdentityPoolId:{},IdentityPoolName:{}}}},NextToken:{}}}},ListTagsForResource:{input:{type:"structure",required:["ResourceArn"],members:{ResourceArn:{}}},output:{type:"structure",members:{Tags:{shape:"Sg"}}}},LookupDeveloperIdentity:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{},IdentityId:{},DeveloperUserIdentifier:{},MaxResults:{type:"integer"},NextToken:{}}},output:{type:"structure",members:{IdentityId:{},DeveloperUserIdentifierList:{type:"list",member:{}},NextToken:{}}}},MergeDeveloperIdentities:{input:{type:"structure",required:["SourceUserIdentifier","DestinationUserIdentifier","DeveloperProviderName","IdentityPoolId"],members:{SourceUserIdentifier:{},DestinationUserIdentifier:{},DeveloperProviderName:{},IdentityPoolId:{}}},output:{type:"structure",members:{IdentityId:{}}}},SetIdentityPoolRoles:{input:{type:"structure",required:["IdentityPoolId","Roles"],members:{IdentityPoolId:{},Roles:{shape:"S1b"},RoleMappings:{shape:"S1d"}}}},TagResource:{input:{type:"structure",required:["ResourceArn"],members:{ResourceArn:{},Tags:{shape:"Sg"}}},output:{type:"structure",members:{}}},UnlinkDeveloperIdentity:{input:{type:"structure",required:["IdentityId","IdentityPoolId","DeveloperProviderName","DeveloperUserIdentifier"],members:{IdentityId:{},IdentityPoolId:{},DeveloperProviderName:{},DeveloperUserIdentifier:{}}}},UnlinkIdentity:{input:{type:"structure",required:["IdentityId","Logins","LoginsToRemove"],members:{IdentityId:{},Logins:{shape:"Sz"},LoginsToRemove:{shape:"Sv"}}}},UntagResource:{input:{type:"structure",required:["ResourceArn"],members:{ResourceArn:{},TagKeys:{type:"list",member:{}}}},output:{type:"structure",members:{}}},UpdateIdentityPool:{input:{shape:"Sj"},output:{shape:"Sj"}}},shapes:{S4:{type:"map",key:{},value:{}},S8:{type:"list",member:{}},Sa:{type:"list",member:{type:"structure",members:{ProviderName:{},ClientId:{},ServerSideTokenCheck:{type:"boolean"}}}},Sf:{type:"list",member:{}},Sg:{type:"map",key:{},value:{}},Sj:{type:"structure",required:["IdentityPoolId","IdentityPoolName","AllowUnauthenticatedIdentities"],members:{IdentityPoolId:{},IdentityPoolName:{},AllowUnauthenticatedIdentities:{type:"boolean"},SupportedLoginProviders:{shape:"S4"},DeveloperProviderName:{},OpenIdConnectProviderARNs:{shape:"S8"},CognitoIdentityProviders:{shape:"Sa"},SamlProviderARNs:{shape:"Sf"},IdentityPoolTags:{shape:"Sg"}}},Su:{type:"structure",members:{IdentityId:{},Logins:{shape:"Sv"},CreationDate:{type:"timestamp"},LastModifiedDate:{type:"timestamp"}}},Sv:{type:"list",member:{}},Sz:{type:"map",key:{},value:{}},S1b:{type:"map",key:{},value:{}},S1d:{type:"map",key:{},value:{type:"structure",required:["Type"],members:{Type:{},AmbiguousRoleResolution:{},RulesConfiguration:{type:"structure",required:["Rules"],members:{Rules:{type:"list",member:{type:"structure",required:["Claim","MatchType","Value","RoleARN"],members:{Claim:{},MatchType:{},Value:{},RoleARN:{}}}}}}}}}}}},ukYY:function(e,t,n){"use strict";var o=n("pFYg"),i=n.n(o),s=n("Dd8w"),r=n.n(s),a=n("2uFj");t.a={setIsMicMuted:function(e,t){if("boolean"!=typeof t)return void console.error("setIsMicMuted status not boolean",t);e.config.recorder.useAutoMuteDetect&&(e.recState.isMicMuted=t)},setIsMicQuiet:function(e,t){if("boolean"!=typeof t)return void console.error("setIsMicQuiet status not boolean",t);e.recState.isMicQuiet=t},setIsConversationGoing:function(e,t){if("boolean"!=typeof t)return void console.error("setIsConversationGoing status not boolean",t);e.recState.isConversationGoing=t},startRecording:function(e,t){console.info("start recording"),!1===e.recState.isRecording&&(t.start(),e.recState.isRecording=!0)},stopRecording:function(e,t){!0===e.recState.isRecording&&(e.recState.isRecording=!1,t.isRecording&&t.stop())},increaseSilentRecordingCount:function(e){e.recState.silentRecordingCount+=1},resetSilentRecordingCount:function(e){e.recState.silentRecordingCount=0},setIsRecorderEnabled:function(e,t){if("boolean"!=typeof t)return void console.error("setIsRecorderEnabled status not boolean",t);e.recState.isRecorderEnabled=t},setIsRecorderSupported:function(e,t){if("boolean"!=typeof t)return void console.error("setIsRecorderSupported status not boolean",t);e.recState.isRecorderSupported=t},setIsBotSpeaking:function(e,t){if("boolean"!=typeof t)return void console.error("setIsBotSpeaking status not boolean",t);e.botAudio.isSpeaking=t},setAudioAutoPlay:function(e,t){var n=t.audio,o=t.status;if("boolean"!=typeof o)return void console.error("setAudioAutoPlay status not boolean",o);e.botAudio.autoPlay=o,n.autoplay=o},setCanInterruptBotPlayback:function(e,t){if("boolean"!=typeof t)return void console.error("setCanInterruptBotPlayback status not boolean",t);e.botAudio.canInterrupt=t},setIsBotPlaybackInterrupting:function(e,t){if("boolean"!=typeof t)return void console.error("setIsBotPlaybackInterrupting status not boolean",t);e.botAudio.isInterrupting=t},setBotPlaybackInterruptIntervalId:function(e,t){if("number"!=typeof t)return void console.error("setIsBotPlaybackInterruptIntervalId id is not a number",t);e.botAudio.interruptIntervalId=t},updateLexState:function(e,t){e.lex=r()({},e.lex,t)},setLexSessionAttributes:function(e,t){if("object"!==(void 0===t?"undefined":i()(t)))return void console.error("sessionAttributes is not an object",t);e.lex.sessionAttributes=t},setIsLexProcessing:function(e,t){if("boolean"!=typeof t)return void console.error("setIsLexProcessing status not boolean",t);e.lex.isProcessing=t},setIsLexInterrupting:function(e,t){if("boolean"!=typeof t)return void console.error("setIsLexInterrupting status not boolean",t);e.lex.isInterrupting=t},setAudioContentType:function(e,t){switch(t){case"mp3":case"mpg":case"mpeg":e.polly.outputFormat="mp3",e.lex.acceptFormat="audio/mpeg";break;case"ogg":case"ogg_vorbis":case"x-cbr-opus-with-preamble":default:e.polly.outputFormat="ogg_vorbis",e.lex.acceptFormat="audio/ogg"}},setPollyVoiceId:function(e,t){if("string"!=typeof t)return void console.error("polly voiceId is not a string",t);e.polly.voiceId=t},mergeConfig:function(e,t){if("object"!==(void 0===t?"undefined":i()(t)))return void console.error("config is not an object",t);e.config.region=t.cognito.poolId.split(":")[0]||"us-east-1";var n=e.config&&e.config.ui&&e.config.ui.parentOrigin?e.config.ui.parentOrigin:t.ui.parentOrigin||window.location.origin,o=r()({},t,{ui:r()({},t.ui,{parentOrigin:n})});e.config&&e.config.ui&&e.config.ui.parentOrigin&&t.ui&&t.ui.parentOrigin&&t.ui.parentOrigin!==e.config.ui.parentOrigin&&console.warn("ignoring parentOrigin in config: ",t.ui.parentOrigin),e.config=Object(a.b)(e.config,o)},setIsRunningEmbedded:function(e,t){if("boolean"!=typeof t)return void console.error("setIsRunningEmbedded status not boolean",t);e.isRunningEmbedded=t},toggleIsUiMinimized:function(e){e.isUiMinimized=!e.isUiMinimized},toggleHasButtons:function(e){e.hasButtons=!e.hasButtons},setIsLoggedIn:function(e,t){e.isLoggedIn=t},setTokens:function(e,t){t?(e.tokens.idtokenjwt=t.idtokenjwt,e.tokens.accesstokenjwt=t.accesstokenjwt,e.tokens.refreshtoken=t.refreshtoken,e.lex.sessionAttributes.idtokenjwt=t.idtokenjwt,e.lex.sessionAttributes.accesstokenjwt=t.accesstokenjwt,e.lex.sessionAttributes.refreshtoken=t.refreshtoken):e.tokens=void 0},pushMessage:function(e,t){e.messages.push(r()({id:e.messages.length,date:new Date},t))},setAwsCredsProvider:function(e,t){e.awsCreds.provider=t},pushUtterance:function(e,t){e.isBackProcessing?e.isBackProcessing=!e.isBackProcessing:(e.utteranceStack.push({t:t}),e.utteranceStack.length>1e3&&e.utteranceStack.shift())},popUtterance:function(e){0!==e.utteranceStack.length&&e.utteranceStack.pop()},toggleBackProcessing:function(e){e.isBackProcessing=!e.isBackProcessing}}},vKhg:function(e,t){},vaj8:function(e,t,n){"use strict";var o=n("Ird2"),i=n("t3VV");t.a={name:"message",props:["message","feedback"],components:{MessageText:o.a,ResponseCard:i.a},data:function(){return{isMessageFocused:!1,messageHumanDate:"Now",positiveClick:!1,negativeClick:!1,hasButtonBeenClicked:!1,positiveIntent:this.$store.state.config.ui.positiveFeedbackIntent,negativeIntent:this.$store.state.config.ui.negativeFeedbackIntent,hideInputFields:this.$store.state.config.ui.hideInputFieldsForButtonResponse}},computed:{botDialogState:function(){if(!("dialogState"in this.message))return null;switch(this.message.dialogState){case"Failed":return{icon:"error",color:"red",state:"fail"};case"Fulfilled":case"ReadyForFulfillment":return{icon:"done",color:"green",state:"ok"};default:return null}},isLastMessageFeedback:function(){return this.$store.state.messages.length>2&&"feedback"!==this.$store.state.messages[this.$store.state.messages.length-2].type},botAvatarUrl:function(){return this.$store.state.config.ui.avatarImageUrl},showDialogStateIcon:function(){return this.$store.state.config.ui.showDialogStateIcon},showDialogFeedback:function(){return this.$store.state.config.ui.positiveFeedbackIntent.length>2&&this.$store.state.config.ui.negativeFeedbackIntent.length>2},showErrorIcon:function(){return this.$store.state.config.ui.showErrorIcon},shouldDisplayResponseCard:function(){return this.message.responseCard&&("1"===this.message.responseCard.version||1===this.message.responseCard.version)&&"application/vnd.amazonaws.card.generic"===this.message.responseCard.contentType&&"genericAttachments"in this.message.responseCard&&this.message.responseCard.genericAttachments instanceof Array},shouldShowAvatarImage:function(){return"bot"===this.message.type&&this.botAvatarUrl},imageBackground:function(){return"image"in this.message?{"background-image":"url("+this.message.image+")","background-repeat":"no-repeat","background-size":"cover","background-position":"center",width:"180px",height:"180px","border-radius":"20px"}:null},botAvatarBackground:function(){return{background:"url("+this.botAvatarUrl+") center center / contain no-repeat"}},shouldShowMessageDate:function(){return this.$store.state.config.ui.showMessageDate}},methods:{onButtonClick:function(e){if(!this.hasButtonBeenClicked){this.hasButtonBeenClicked=!0,e===this.$store.state.config.ui.positiveFeedbackIntent?this.positiveClick=!0:this.negativeClick=!0;var t={type:"feedback",text:e};this.$emit("feedbackButton"),this.$store.dispatch("postTextMessage",t)}},playAudio:function(){var e=this.$el.querySelector("audio");e&&e.play()},onMessageFocus:function(){this.shouldShowMessageDate&&(this.messageHumanDate=this.getMessageHumanDate(),this.isMessageFocused=!0,this.message.id===this.$store.state.messages.length-1&&this.$emit("scrollDown"))},onMessageBlur:function(){this.shouldShowMessageDate&&(this.isMessageFocused=!1)},getMessageHumanDate:function(){var e=Math.round((new Date-this.message.date)/1e3);return e<60?"Now":e<3600?Math.floor(e/60)+" min":e<86400?this.message.date.toLocaleTimeString():this.message.date.toLocaleString()}},created:function(){this.message.responseCard&&"genericAttachments"in this.message.responseCard?this.message.responseCard.genericAttachments[0].buttons&&this.hideInputFields&&!this.$store.state.hasButtons&&this.$store.dispatch("toggleHasButtons"):this.$store.state.config.ui.hideInputFieldsForButtonResponse&&this.$store.state.hasButtons&&this.$store.dispatch("toggleHasButtons")}}},vcbH:function(e,t){e.exports={rules:{"*/*":{endpoint:"{service}.{region}.amazonaws.com"},"cn-*/*":{endpoint:"{service}.{region}.amazonaws.com.cn"},"*/budgets":"globalSSL","*/cloudfront":"globalSSL","*/iam":"globalSSL","*/sts":"globalSSL","*/importexport":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2",globalEndpoint:!0},"*/route53":{endpoint:"https://{service}.amazonaws.com",signatureVersion:"v3https",globalEndpoint:!0},"*/waf":"globalSSL","us-gov-*/iam":"globalGovCloud","us-gov-*/sts":{endpoint:"{service}.{region}.amazonaws.com"},"us-gov-west-1/s3":"s3signature","us-west-1/s3":"s3signature","us-west-2/s3":"s3signature","eu-west-1/s3":"s3signature","ap-southeast-1/s3":"s3signature","ap-southeast-2/s3":"s3signature","ap-northeast-1/s3":"s3signature","sa-east-1/s3":"s3signature","us-east-1/s3":{endpoint:"{service}.amazonaws.com",signatureVersion:"s3"},"us-east-1/sdb":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2"},"*/sdb":{endpoint:"{service}.{region}.amazonaws.com",signatureVersion:"v2"}},patterns:{globalSSL:{endpoint:"https://{service}.amazonaws.com",globalEndpoint:!0},globalGovCloud:{endpoint:"{service}.us-gov.amazonaws.com"},s3signature:{endpoint:"{service}.{region}.amazonaws.com",signatureVersion:"s3"}}}},wsiu:function(e,t){},yJ2L:function(e,t,n){"use strict";function o(e){n("wsiu")}var i=n("vaj8"),s=n("Fk+a"),r=n("VU/8"),a=o,c=r(i.a,s.a,!1,a,"data-v-56eb5f6e",null);t.a=c.exports},yUBx:function(e,t,n){"use strict";var o=n("d7EF"),i=n.n(o),s=n("//Fk"),r=n.n(s),a=function(e,t){t.onstart=function(){console.info("recorder start event triggered"),console.time("recording time")},t.onstop=function(){e.dispatch("stopRecording"),console.timeEnd("recording time"),console.time("recording processing time"),console.info("recorder stop event triggered")},t.onsilentrecording=function(){console.info("recorder silent recording triggered"),e.commit("increaseSilentRecordingCount")},t.onunsilentrecording=function(){e.state.recState.silentRecordingCount>0&&e.commit("resetSilentRecordingCount")},t.onerror=function(e){console.error("recorder onerror event triggered",e)},t.onstreamready=function(){console.info("recorder stream ready event triggered")},t.onmute=function(){console.info("recorder mute event triggered"),e.commit("setIsMicMuted",!0)},t.onunmute=function(){console.info("recorder unmute event triggered"),e.commit("setIsMicMuted",!1)},t.onquiet=function(){console.info("recorder quiet event triggered"),e.commit("setIsMicQuiet",!0)},t.onunquiet=function(){console.info("recorder unquiet event triggered"),e.commit("setIsMicQuiet",!1)},t.ondataavailable=function(n){var o=t.mimeType;console.info("recorder data available event triggered");var s=n.detail,a=0;o.startsWith("audio/ogg")&&(a=125+n.detail[125]+1),console.timeEnd("recording processing time"),e.dispatch("lexPostContent",s,a).then(function(t){if(e.state.recState.silentRecordingCount>=e.state.config.converser.silentConsecutiveRecordingMax){var n="Too many consecutive silent recordings: "+e.state.recState.silentRecordingCount+".";return r.a.reject(new Error(n))}return r.a.all([e.dispatch("getAudioUrl",s),e.dispatch("getAudioUrl",t)])}).then(function(t){console.log("Here 1"),"Fulfilled"===e.state.lex.dialogState||e.state.recState.isConversationGoing||console.log("Here stop");var n=i()(t,2),o=n[0],s=n[1];if(e.dispatch("pushMessage",{type:"human",audio:o,text:e.state.lex.inputTranscript}),console.log("Here 2",e.state.lex.inputTranscript),e.commit("pushUtterance",e.state.lex.inputTranscript),e.state.lex.message.includes('{"messages":')){console.log("Here 4");var a=JSON.parse(e.state.lex.message);a&&Array.isArray(a.messages)&&a.messages.forEach(function(t){e.dispatch("pushMessage",{type:"bot",audio:s,text:t.value,dialogState:e.state.lex.dialogState,responseCard:e.state.lex.responseCard,alts:JSON.parse(e.state.lex.sessionAttributes.appContext||"{}").altMessages})})}else{var c=e.state.lex,u=JSON.parse(c.sessionAttributes.appContext||"{}").altMessages;void 0===u&&(u={}),u.markdown=c.message,console.log("Here 5"),e.dispatch("pushMessage",{type:"bot",audio:s,text:e.state.lex.message,dialogState:e.state.lex.dialogState,responseCard:e.state.lex.responseCard,alts:u})}return console.log("Here 6"),r.a.resolve()}).then(function(){return console.log("Here 7"),["Fulfilled","ReadyForFulfillment","Failed"].indexOf(e.state.lex.dialogState)>=0?(console.log("Here 8"),e.dispatch("stopConversation").then(function(){return e.dispatch("reInitBot")})):e.state.recState.isConversationGoing?(console.log("Here 9"),e.dispatch("startRecording")):(console.log("Here 10"),r.a.resolve())}).catch(function(t){console.log("Here 11"),console.log(t);var n=e.state.config.ui.showErrorDetails?" "+t:"";console.error("converser error:",t),e.dispatch("stopConversation"),e.dispatch("pushErrorMessage","Sorry, I had an error handling this conversation."+n),e.commit("resetSilentRecordingCount")})}};t.a=a},z2C2:function(e,t,n){"use strict";n.d(t,"a",function(){return C});var o=n("Dd8w"),i=n.n(o),s=n("Zrlr"),r=n.n(s),a=n("C4MV"),c=n.n(a),u=n("//Fk"),d=n.n(u),l=n("7+uW"),p=n("NYxO"),f=n("T4MM"),m=(n.n(f),n("f3U8")),h=n.n(m),g=n("hWbo"),b=n.n(g),v=n("c6ee"),y=n("IcnI"),A=n("2uFj"),x={name:"lex-web-ui",template:'<lex-web v-on="$listeners"></lex-web>',components:{LexWeb:v.a}},S={template:"<p>Loading. Please wait...</p>"},I={template:"<p>An error ocurred...</p>"},w=function(e){var t=e.component,n=void 0===t?d.a.resolve(x):t,o=e.loading,i=void 0===o?S:o,s=e.error,r=void 0===s?I:s,a=e.delay,c=void 0===a?200:a,u=e.timeout;return{component:n,loading:i,error:r,delay:c,timeout:void 0===u?1e4:u}},k={install:function(e,t){var n=t.name,o=void 0===n?"$lexWebUi":n,i=t.componentName,s=void 0===i?"lex-web-ui":i,r=t.awsConfig,a=t.lexRuntimeClient,u=t.pollyClient,d=t.component,l=void 0===d?w:d,p=t.config,f=void 0===p?A.a:p;o in e&&console.warn("plugin should only be used once");var m={config:f,awsConfig:r,lexRuntimeClient:a,pollyClient:u};c()(e.prototype,o,{value:m}),e.component(s,l)}},C=(y.a,function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r()(this,e);var n=Object(A.b)(A.a,t),o=window.Vue?window.Vue:l.a;if(!o)throw new Error("unable to find Vue");var s=window.Vuex?window.Vuex:p.a;if(!s)throw new Error("unable to find Vuex");var a=window.AWS&&window.AWS.Config?window.AWS.Config:f.Config,c=window.AWS&&window.AWS.CognitoIdentityCredentials?window.AWS.CognitoIdentityCredentials:f.CognitoIdentityCredentials,u=window.AWS&&window.AWS.Polly?window.AWS.Polly:b.a,d=window.AWS&&window.AWS.LexRuntime?window.AWS.LexRuntime:h.a;if(!(a&&c&&u&&d))throw new Error("unable to find AWS SDK");var m=new c({IdentityPoolId:n.cognito.poolId},{region:n.region||n.cognito.poolId.split(":")[0]||"us-east-1"}),g=new a({region:n.region||n.cognito.poolId.split(":")[0]||"us-east-1",credentials:m}),v=new d(g),x=void 0===n.recorder||n.recorder&&!1!==n.recorder.enable?new u(g):null;this.store=new s.Store(i()({},y.a)),o.use(k,{config:n,awsConfig:g,lexRuntimeClient:v,pollyClient:x})})},zAVw:function(e,t){},zTC8:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"lex-web"}},[n("toolbar-container",{attrs:{userName:e.userNameValue,"toolbar-title":e.toolbarTitle,"toolbar-color":e.toolbarColor,"toolbar-logo":e.toolbarLogo,"is-ui-minimized":e.isUiMinimized},on:{toggleMinimizeUi:e.toggleMinimizeUi,requestLogin:e.handleRequestLogin,requestLogout:e.handleRequestLogout}}),e._v(" "),n("v-content",[n("v-container",{staticClass:"message-list-container",attrs:{fluid:"","pa-0":""}},[n("message-list",{directives:[{name:"show",rawName:"v-show",value:!e.isUiMinimized,expression:"!isUiMinimized"}]})],1)],1),e._v(" "),e.isUiMinimized||e.hasButtons?e._e():n("input-container",{ref:"InputContainer",attrs:{"text-input-placeholder":e.textInputPlaceholder,"initial-speech-instruction":e.initialSpeechInstruction}})],1)},i=[],s={render:o,staticRenderFns:i};t.a=s}},["NHnr"]);
//# sourceMappingURL=app.93f2f74d59772c17dcf9.js.map